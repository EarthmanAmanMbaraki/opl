"use strict";(self.webpackChunkopl_frontend=self.webpackChunkopl_frontend||[]).push([[12],{4262:function(t,e,r){r.r(e),r.d(e,{default:function(){return B}});var n=r(5861),o=r(5671),s=r(3144),a=r(136),c=r(5716),i=r(7757),p=r.n(i),u=r(2791),_=r(6168),d=r(6871),h=r(968),l=r(4475),m=r(9743),y=r(2677),T=r(3496),x=r(7883),v=r(9600),f=r(3847),O=r(184),C=function(t,e){var r=new Array(12).fill(0);for(var n in t){var o=t[n];r[o.date__month-1]="Million"===e?(0,f.$G)(o.sum/1e6):(0,f.$G)(o.sum/1e3)}return r},b=function(t){(0,a.Z)(r,t);var e=(0,c.Z)(r);function r(t){var n;(0,o.Z)(this,r),n=e.call(this,t);var s=(new Date).getFullYear();return n.state={spinner:!1,series:[],options:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},title:{text:n.props.dashboard_metric?"".concat(s," Products Trends by Month's Revenue"):"".concat(s," Products Trends by Month's Quantity"),align:"left"},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:x.g},yaxis:{title:{text:n.props.dashboard_metric?"Kshs (Millions)":"Litres"}},fill:{opacity:1},tooltip:{y:{formatter:n.props.dashboard_metric?function(t){return"Kshs ".concat(t," Millions")}:function(t){return"".concat(t," Litres")}}}}},n}return(0,s.Z)(r,[{key:"render",value:function(){return(0,O.jsx)("div",{id:"chart",style:{marginTop:20},children:this.state.spinner?(0,O.jsxs)("div",{style:{height:350,position:"relative"},children:[(0,O.jsx)(v.Z,{spinner:this.state.spinner})," "]}):(0,O.jsx)(T.Z,{options:this.state.options,series:this.state.series,type:"bar",height:350})})}}]),r}(u.Component);b.getDerivedStateFromProps=function(t,e){var r=t.product_month,n=t.product_month_year;if(!0===t.update_product_month)return e.spinner=!0,e;e.spinner=!1;for(var o=[],s=0;s<r.length;s++){var a=r[s];o=o.concat({name:a.name,data:t.dashboard_metric?C(a.revenue,t.currency_type):C(a.quantity,t.currency_type)})}return e.series=o,e.options.title.text=t.dashboard_metric?"".concat(n," Products Trends by Month's Revenue"):"".concat(n," Products Trends by Month's Quantity"),e.options.yaxis.title.text=t.dashboard_metric?"Kshs (".concat(t.currency_type,")"):"Litres (".concat(t.currency_type,")"),e.options.tooltip.y.formatter=t.dashboard_metric?function(e){return"Kshs ".concat(e).concat((0,f.P)(t.currency_type))}:function(e){return"".concat(e).concat((0,f.P)(t.currency_type)," Litres")},e};var j=b,N=r(8700),A=r.n(N),D=function(t,e){for(var r=[],n=0;n<t.length;n++)r.push([t[n].timestamp,"Million"===e?(0,f.$G)(t[n].sum/1e6):(0,f.$G)(t[n].sum/1e3)]);return r},P=function(t,e){for(var r=t.product_series,n=[],o=0;o<r.length;o++){var s=t.dashboard_metric?r[o].revenue:r[o].quantity,a=D(s,e);n=n.concat({name:r[o].name,data:a})}return n},Z=function(t){(0,a.Z)(r,t);var e=(0,c.Z)(r);function r(t){var n;return(0,o.Z)(this,r),(n=e.call(this,t)).state={currency_type:n.props.currency_type,selection_dates:n.props.selection_dates,product_series:n.props.product_series,spinner:!1,series:[],options:{chart:{id:"area-datetime",type:"area",height:400,zoom:{autoScaleYaxis:!1}},title:{text:n.props.dashboard_metric?"Revenue":"Quantities"},annotations:{xaxis:[{x:new Date("".concat(n.props.selection_dates.startDate)).getTime(),borderColor:"#999",yAxisIndex:0}]},dataLabels:{enabled:!0},markers:{size:0,style:"hollow"},xaxis:{type:"datetime",tickAmount:5},yaxis:{title:{text:n.props.dashboard_metric?"Kshs (".concat(n.props.currency_type,")"):"Litres (".concat(n.props.currency_type,")")},min:0},tooltip:{y:{formatter:n.props.dashboard_metric?function(t){return"Kshs ".concat(t," Millions")}:function(t){return"".concat(t," Litres")}}}},selection:"one_month"},n}return(0,s.Z)(r,[{key:"render",value:function(){try{A().exec("area-datetime","zoomX",new Date("".concat(this.state.selection_dates.startDate)).getTime(),new Date("".concat(this.state.selection_dates.endDate)).getTime())}catch(t){}return(0,O.jsx)("div",{id:"chart-timeline",children:this.state.spinner?(0,O.jsxs)("div",{style:{height:400,position:"relative"},children:[" ",(0,O.jsx)(v.Z,{spinner:this.state.spinner})]}):(0,O.jsx)(T.Z,{options:this.state.options,series:this.state.series,type:"area",height:400})})}}]),r}(u.Component);Z.getDerivedStateFromProps=function(){var t=(0,n.Z)(p().mark((function t(e,r){var n,o,s,a,c;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.dashboard_metric,o=e.selection_dates,s=e.currency_type,!0!==e.update_product_series){t.next=4;break}return r.spinner=!0,t.abrupt("return",r);case 4:return r.spinner=!1,"string"===typeof o.startDate&&(o.startDate=new Date("".concat(o.startDate)),o.endDate=new Date("".concat(o.endDate))),a=P(e,s),r.currency_type=e.currency_type,r.series=a,r.options.title.text=n?"Revenue":"Quantities",c=s,r.options.yaxis.title.text=n?"Kshs (".concat(c,")"):"Litres (".concat(c,")"),r.options.tooltip.y.formatter=n?function(t){return"Kshs ".concat(t).concat((0,f.P)(s))}:function(t){return"".concat(t).concat((0,f.P)(s)," Litres")},r.selection_dates=o,r.product_series=e.product_series,t.abrupt("return",r);case 16:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();var g=Z,E=r(717),I=r(4650),M=function(t){(0,a.Z)(r,t);var e=(0,c.Z)(r);function r(){var t;(0,o.Z)(this,r);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={year:t.props.product_month_year},t.handleYearChange=function(){var e=(0,n.Z)(p().mark((function e(r){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.UPDATE_PRODUCT_MONTH_ACTION();case 2:return e.next=4,t.props.UPDATE_PRODUCT_MONTH_YEAR_ACTION(r);case 4:return e.next=6,t.props.GET_PRODUCT_MONTH_ACTION(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return(0,s.Z)(r,[{key:"render",value:function(){var t=this;return(0,O.jsx)("div",{children:(0,O.jsxs)(E.Z.Group,{className:"mb-4 pie-select__child",controlId:"exampleForm.ControlInput1",children:[(0,O.jsx)(E.Z.Label,{children:"Year"}),(0,O.jsxs)(E.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleYearChange(e.target.value)},children:[(0,O.jsx)("option",{children:this.state.year}),[2022,2021].map((function(e,r){return parseInt(t.state.year)===e?null:(0,O.jsx)("option",{value:e,children:e},r)}))]})]})})}}]),r}(u.Component);M.getDerivedStateFromProps=function(t,e){return e.year=t.product_month_year,e};var U={UPDATE_PRODUCT_MONTH_YEAR_ACTION:I.cC,GET_PRODUCT_MONTH_ACTION:I.qB,UPDATE_PRODUCT_MONTH_ACTION:I.OI},R=(0,_.$j)((function(t){return{product_month_year:t.update_reducer.product_month_year}}),U)(M),S=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:13,r=arguments.length>2?arguments[2]:void 0,n=[0,0,0,0,0,0,0,0,0,0,0,0],o=0,s=0;s<t.length;s++){var a=t[s];n[a.date__month-1]="Million"===r?(0,f.$G)(a.sum/1e6):(0,f.$G)(a.sum/1e3),o+=a.sum}return 13===e?"Million"===r?(0,f.$G)(o/1e6):(0,f.$G)(o/1e3):n[e]},k=function(t){(0,a.Z)(r,t);var e=(0,c.Z)(r);function r(t){var n;return(0,o.Z)(this,r),(n=e.call(this,t)).state={spinner:!1,series:[],options:{chart:{width:180,type:"donut"},labels:[],plotOptions:{pie:{startAngle:-90,endAngle:270}},dataLabels:{enabled:!0},fill:{type:"gradient"},tooltip:{y:{formatter:n.props.dashboard_metric?function(t){return"Kshs ".concat(t," Millions")}:function(t){return"".concat(t," Litres")}}},title:{text:n.props.dashboard_metric?"Depots Comparison by Revenue":"Depots Comparison by Quantity"},responsive:[{breakpoint:480,options:{chart:{width:200}}}]}},n}return(0,s.Z)(r,[{key:"render",value:function(){var t=this.state.series.reduce((function(t,e){return t+e}),0);return(0,O.jsx)("div",{id:"chart",children:this.state.spinner?(0,O.jsx)("div",{style:{position:"relative",height:350},children:(0,O.jsx)(v.Z,{spinner:this.state.spinner})}):(0,O.jsx)("div",{children:0===t?(0,O.jsx)("p",{className:"no-data",children:"No data for this year this month. Select another month or switch years"}):(0,O.jsx)(T.Z,{options:this.state.options,series:this.state.series,type:"donut",width:400})})})}}]),r}(u.Component);k.getDerivedStateFromProps=function(t,e){var r=t.depot_month,n=[],o=[],s=(parseInt(t.depot_month_year),parseInt(t.depot_month_month));if(t.update_depot_month)return e.spinner=!0,e;e.spinner=!1;for(var a=0;a<r.length;a++){var c=r[a];n.push(c.name),c=t.dashboard_metric?c.revenue:c.quantity,o.push(S(c,s,t.currency_type))}return e.series=o,e.options.labels=n,e.options.title.text=t.dashboard_metric?"Depots Comparison by Revenue":"Depots Comparison by Quantity",e.options.tooltip.y.formatter=t.dashboard_metric?function(e){return"Kshs ".concat(e).concat((0,f.P)(t.currency_type))}:function(e){return"".concat(e).concat((0,f.P)(t.currency_type)," Litres")},e};var w=k,G=function(t){(0,a.Z)(r,t);var e=(0,c.Z)(r);function r(){var t;(0,o.Z)(this,r);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={year:t.props.depot_month_year,month:t.props.depot_month_month},t.handleYearChange=function(){var e=(0,n.Z)(p().mark((function e(r){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.UPDATE_DEPOT_MONTH_ACTION();case 2:return e.next=4,t.props.UPDATE_DEPOT_MONTH_YEAR_ACTION(r);case 4:return e.next=6,t.props.GET_DEPOT_MONTH_ACTION(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.handleMonthChange=function(){var e=(0,n.Z)(p().mark((function e(r){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.UPDATE_DEPOT_MONTH_MONTH_ACTION(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return(0,s.Z)(r,[{key:"render",value:function(){var t=this,e=["January","February","March","April","May","June","July","August","September","October","November","December"];return(0,O.jsxs)("div",{className:"pie-select",children:[(0,O.jsxs)(E.Z.Group,{className:"mb-4 pie-select__child",controlId:"exampleForm.ControlInput1",children:[(0,O.jsx)(E.Z.Label,{children:"Year"}),(0,O.jsxs)(E.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleYearChange(e.target.value)},children:[(0,O.jsx)("option",{children:this.state.year}),[2022,2021].map((function(e,r){return parseInt(t.state.year)===e?null:(0,O.jsx)("option",{value:e,children:e},r)}))]})]}),(0,O.jsxs)(E.Z.Group,{className:"mb-4 pie-select__child",controlId:"exampleForm.ControlInput1",children:[(0,O.jsx)(E.Z.Label,{children:"Month"}),(0,O.jsxs)(E.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleMonthChange(e.target.value)},children:[13===parseInt(this.state.month)?null:(0,O.jsx)("option",{value:this.state.month,children:e[parseInt(this.state.month)]}),(0,O.jsx)("option",{value:13,children:"All"}),e.map((function(e,r){return parseInt(t.state.month)===r?null:(0,O.jsx)("option",{value:r,children:e},r)}))]})]})]})}}]),r}(u.Component);G.getDerivedStateFromProps=function(t,e){return e.year!==t.depot_month_year||e.month!==t.depot_month_month?(e.year=t.depot_month_year,e.month=t.depot_month_month,e):null};var L={UPDATE_DEPOT_MONTH_MONTH_ACTION:I.eK,UPDATE_DEPOT_MONTH_YEAR_ACTION:I.bC,GET_DEPOT_MONTH_ACTION:I.au,UPDATE_DEPOT_MONTH_ACTION:I.eh},H=(0,_.$j)((function(t){return{depot_month_month:t.update_reducer.depot_month_month,depot_month_year:t.update_reducer.depot_month_year}}),L)(G),F=function(t){(0,a.Z)(r,t);var e=(0,c.Z)(r);function r(){return(0,o.Z)(this,r),e.apply(this,arguments)}return(0,s.Z)(r,[{key:"render",value:function(){return(0,O.jsxs)("div",{className:"charts-section",children:[(0,O.jsx)(m.Z,{children:(0,O.jsx)(y.Z,{children:(0,O.jsx)("div",{className:"chart-area",children:(0,O.jsx)(g,{product_series:this.props.product_series,selection_dates:this.props.selection_dates,dashboard_metric:this.props.dashboard_metric,currency_type:this.props.currency_type,update_product_series:this.props.update_product_series})})})}),(0,O.jsxs)(m.Z,{children:[(0,O.jsx)(y.Z,{xs:7,children:(0,O.jsxs)("div",{className:"chart-area",children:[(0,O.jsx)(R,{}),(0,O.jsx)(j,{product_month:this.props.product_month,dashboard_metric:this.props.dashboard_metric,currency_type:this.props.currency_type,product_month_year:this.props.product_month_year,update_product_month:this.props.update_product_month})]})}),(0,O.jsx)(y.Z,{xs:5,children:(0,O.jsxs)("div",{className:"chart-area",children:[(0,O.jsx)(H,{}),(0,O.jsx)(w,{depot_month:this.props.depot_month,dashboard_metric:this.props.dashboard_metric,depot_month_month:this.props.depot_month_month,depot_month_year:this.props.depot_month_year,currency_type:this.props.currency_type,update_depot_month:this.props.update_depot_month})]})})]})]})}}]),r}(u.Component),Y=F,K=function(t){(0,a.Z)(r,t);var e=(0,c.Z)(r);function r(){var t;(0,o.Z)(this,r);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={year:t.props.top_customer_year,month:parseInt(t.props.top_customer_month),product_list:t.props.product_list,product:t.props.top_customer_product},t.handleChange=function(){var e=(0,n.Z)(p().mark((function e(r,n,o){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.UPDATE_TOP_CUSTOMER_ACTION();case 2:if("All"!==o||13!==n){e.next=7;break}return e.next=5,t.props.GET_TOP_CUSTOMER_ACTION(r,"False");case 5:case 10:case 15:e.next=20;break;case 7:if("All"!==o||13===n){e.next=12;break}return e.next=10,t.props.GET_TOP_CUSTOMER_ACTION(r,"True");case 12:if("All"===o||13!==n){e.next=17;break}return e.next=15,t.props.GET_PRODUCT_TOP_CUSTOMER_ACTION(r,"False");case 17:if("All"===o||13===n){e.next=20;break}return e.next=20,t.props.GET_PRODUCT_TOP_CUSTOMER_ACTION(r,"True");case 20:return e.next=22,t.props.UPDATE_TOP_CUSTOMER_YEAR_ACTION(r);case 22:return e.next=24,t.props.UPDATE_TOP_CUSTOMER_MONTH_ACTION(n);case 24:return e.next=26,t.props.UPDATE_TOP_CUSTOMER_PRODUCT_ACTION(o);case 26:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t}return(0,s.Z)(r,[{key:"render",value:function(){var t=this,e=["January","February","March","April","May","June","July","August","September","October","November","December"],r=this.state.product_list,n=this.state,o=n.year,s=n.month,a=n.product;return(0,O.jsxs)("div",{className:"pie-select",children:[(0,O.jsxs)(E.Z.Group,{className:"mb-4 pie-select__child",controlId:"exampleForm.ControlInput1",children:[(0,O.jsx)(E.Z.Label,{children:"Year"}),(0,O.jsxs)(E.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleChange(e.target.value,s,a)},children:[(0,O.jsx)("option",{children:this.state.year}),[2022,2021].map((function(e,r){return parseInt(t.state.year)===e?null:(0,O.jsx)("option",{value:e,children:e},r)}))]})]}),(0,O.jsxs)(E.Z.Group,{className:"mb-4 pie-select__child",controlId:"exampleForm.ControlInput1",children:[(0,O.jsx)(E.Z.Label,{children:"Month"}),(0,O.jsxs)(E.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleChange(o,e.target.value,a)},children:[13===this.state.month?null:(0,O.jsx)("option",{value:this.state.month,children:e[parseInt(this.state.month)]}),(0,O.jsx)("option",{value:13,children:"All"}),e.map((function(e,r){return parseInt(t.state.month)===r?null:(0,O.jsx)("option",{value:r,children:e},r)}))]})]}),(0,O.jsxs)(E.Z.Group,{className:"mb-4 pie-select__child",controlId:"exampleForm.ControlInput1",children:[(0,O.jsx)(E.Z.Label,{children:"Product"}),(0,O.jsxs)(E.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleChange(o,s,e.target.value)},children:[(0,O.jsx)("option",{children:"All"===this.state.product?"All":this.state.product}),"All"===this.state.product?null:(0,O.jsx)("option",{value:"All",children:"All"}),r.map((function(e,r){return t.state.product===e.name?null:(0,O.jsx)("option",{value:e.name,children:e.name},r)}))]})]})]})}}]),r}(u.Component);K.getDerivedStateFromProps=function(t,e){return e.year=t.top_customer_year,e.month=parseInt(t.top_customer_month),e.product=t.top_customer_product,e.product_list=t.product_list,e};var $={UPDATE_TOP_CUSTOMER_MONTH_ACTION:I.PW,UPDATE_TOP_CUSTOMER_YEAR_ACTION:I.ef,UPDATE_TOP_CUSTOMER_PRODUCT_ACTION:I.zv,GET_TOP_CUSTOMER_ACTION:I.LS,GET_PRODUCT_TOP_CUSTOMER_ACTION:I.Lu,UPDATE_TOP_CUSTOMER_ACTION:I.PQ},z=(0,_.$j)((function(t){return{top_customer_month:t.update_reducer.top_customer_month,top_customer_year:t.update_reducer.top_customer_year,top_customer_product:t.update_reducer.top_customer_product,product_list:t.list_reducer.product_list?t.list_reducer.product_list:[]}}),$)(K),q=function(t){(0,a.Z)(r,t);var e=(0,c.Z)(r);function r(){var t;(0,o.Z)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={customers:[],metric:t.props.dashboard_metric,spinner:!1},t.numberWithCommas=function(t){try{return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}catch(e){return t}},t}return(0,s.Z)(r,[{key:"render",value:function(){var t=this;return(0,O.jsxs)("div",{className:"chart-area top-customers",children:[(0,O.jsx)(z,{}),this.state.spinner?(0,O.jsxs)("div",{style:{position:"relative",height:350},children:[(0,O.jsx)(v.Z,{spinner:this.state.spinner})," "]}):(0,O.jsxs)("div",{children:[(0,O.jsxs)("div",{className:"top-customers__top",children:[(0,O.jsx)("h6",{style:{marginLeft:20},children:"Top Customers"}),(0,O.jsxs)("div",{className:"legends",children:[(0,O.jsx)("div",{className:"legend-item"}),(0,O.jsx)("div",{className:"legend-item"})]})]}),(0,O.jsxs)(m.Z,{className:"top_customers__customer-row",children:[this.state.customers.slice(0,8).map((function(e,r){return(0,O.jsx)(y.Z,{xs:3,children:(0,O.jsxs)("div",{className:"top-customer",children:[(0,O.jsx)("div",{className:"top-customer__total",children:(0,O.jsxs)("h5",{className:"top-customer__amount",children:[t.state.dashboard_metric?"Kshs.":"Litres."," ",t.numberWithCommas(e.sum)]})}),(0,O.jsxs)("div",{className:"top-customer__info",children:[(0,O.jsx)("div",{className:"top-customer__profile"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h6",{className:"top-customer__name",children:e.customer__name}),(0,O.jsx)("p",{className:"top-customer__location",children:e.location})]})]})]})},r)})),0===this.state.customers.length?(0,O.jsx)("p",{className:"no-data",children:"No data for this year this month. Select another month or switch years"}):null]})]})]})}}]),r}(u.Component);q.getDerivedStateFromProps=function(t,e){if(t.update_top_customer)return e.spinner=!0,e;e.spinner=!1;var r=function(t){var e=null,r=[],n=t.top_customer_month;return"All"!==t.top_customer_product?(e=t.product_top_customer.filter((function(e){return e.name===t.top_customer_product}))[0],r=13===n?t.dashboard_metric?e.revenue:e.quantity:(e=t.dashboard_metric?e.revenue:e.quantity)[parseInt(n)].customers):(e=t.dashboard_metric?t.top_customer.revenue:t.top_customer.quantity,r=13===parseInt(n)?e:e[parseInt(n)].customers),r}(t);return e.customers=r,e.dashboard_metric=t.dashboard_metric,e};var Q=q,J=function(t){(0,a.Z)(r,t);var e=(0,c.Z)(r);function r(){var t;(0,o.Z)(this,r);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={redirect:!1,currency_type:t.props.currency_type,spinner:!1},t.componentDidMount=(0,n.Z)(p().mark((function e(){var r,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({spinner:!0}),r=t.props.selection_dates.endDate,n=t.props.selection_dates.startDate,e.next=5,t.props.GET_PRODUCT_SERIES_ACTION(n,r);case 5:return e.next=7,t.props.GET_PRODUCT_MONTH_ACTION(t.props.product_month_year);case 7:return e.next=9,t.props.GET_DEPOT_MONTH_ACTION(t.props.depot_month_year);case 9:if(13!==t.props.top_customer_month){e.next=14;break}return e.next=12,t.props.GET_TOP_CUSTOMER_ACTION(t.props.top_customer_year,"False");case 12:e.next=16;break;case 14:return e.next=16,t.props.GET_TOP_CUSTOMER_ACTION(t.props.top_customer_year,"True");case 16:case"end":return e.stop()}}),e)}))),t}return(0,s.Z)(r,[{key:"render",value:function(){return!0===this.state.redirect?(0,O.jsx)(d.Fg,{to:"/login"}):(console.log(this.props.token),(0,O.jsxs)(l.Z,{header_title:"Dashboard",children:[(0,O.jsx)(h.Z,{}),this.state.spinner?(0,O.jsx)(v.Z,{spinner:this.state.spinner}):(0,O.jsxs)("div",{children:[(0,O.jsx)(Y,{product_series:this.props.product_series,product_month:this.props.product_month,depot_month:this.props.depot_month,selection_dates:this.props.selection_dates,dashboard_metric:this.props.dashboard_metric,currency_type:this.props.currency_type,product_month_year:this.props.product_month_year,depot_month_month:this.props.depot_month_month,depot_month_year:this.props.depot_month_year,update_product_series:this.props.update_product_series,update_product_month:this.props.update_product_month,update_depot_month:this.props.update_depot_month}),(0,O.jsx)(Q,{dashboard_metric:this.props.dashboard_metric,top_customer:this.props.top_customer,top_customer_month:this.props.top_customer_month,top_customer_year:this.props.top_customer_year,product_top_customer:this.props.product_top_customer,top_customer_product:this.props.top_customer_product,update_top_customer:this.props.update_top_customer})]})]}))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var r=t.token,n=t.top_customer,o=t.depot_month,s=(t.depot_product_month,t.product_series),a=t.product_month;return void 0===r||null===r?(e.redirect=!0,e):void 0!==n&&void 0!==o&&void 0!==a&&void 0!==s?(e.spinner=!1,e):(e.spinner=!0,e)}}]),r}(u.Component),W={GET_TOP_CUSTOMER_ACTION:I.LS,GET_DEPOT_MONTH_ACTION:I.au,GET_PRODUCT_SERIES_ACTION:I.MV,GET_PRODUCT_MONTH_ACTION:I.qB},B=(0,_.$j)((function(t){return{token:t.auth_reducer.token,top_customer:t.list_reducer.top_customer,update_top_customer:t.list_reducer.update_top_customer,depot_month:t.list_reducer.depot_month,update_depot_month:t.list_reducer.update_depot_month,depot_product_month:t.list_reducer.depot_product_month,product_series:t.list_reducer.product_series,update_product_series:t.list_reducer.update_product_series,product_month:t.list_reducer.product_month,update_product_month:t.list_reducer.update_product_month,product_top_customer:t.list_reducer.product_top_customer,dashboard_metric:t.update_reducer.dashboard_metric,selection_dates:t.update_reducer.selection_dates,currency_type:t.update_reducer.currency_type,product_month_year:t.update_reducer.product_month_year,depot_month_month:t.update_reducer.depot_month_month,depot_month_year:t.update_reducer.depot_month_year,top_customer_month:t.update_reducer.top_customer_month,top_customer_year:t.update_reducer.top_customer_year,top_customer_product:t.update_reducer.top_customer_product}}),W)(J)}}]);
//# sourceMappingURL=12.d978a63d.chunk.js.map