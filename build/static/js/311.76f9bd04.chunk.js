"use strict";(self.webpackChunkopl_frontend=self.webpackChunkopl_frontend||[]).push([[311],{8504:function(e,t,r){r.r(t),r.d(t,{default:function(){return J}});var s=r(5861),n=r(5671),o=r(3144),a=r(136),i=r(5716),c=r(7757),p=r.n(c),d=r(2791),u=r(6168),_=r(9743),l=r(2677),h=r(6871),m=r(4475),y=r(4650),x=r(9600),f=r(3496),v=r(3847),T=r(184),D=function(e,t,r,s){for(var n=e,o=[],a=function(e){var a=n.filter((function(r){return r.depot__name===t[e].name})),i=0;i=13===s?a.reduce((function(e,t){return e+t.sum}),0):(i=a.filter((function(e){return e.date__month===s+1}))).length>0?i[0].sum:0,o.push("Million"===r?(0,v.$G)(i/1e6):(0,v.$G)(i/1e3))},i=0;i<t.length;i++)a(i);return o},O=function(e){(0,a.Z)(r,e);var t=(0,i.Z)(r);function r(e){var s;return(0,n.Z)(this,r),(s=t.call(this,e)).mapMonths=function(e,t,r){for(var s=e.filter((function(e){return parseInt(e.year)===parseInt(t)}))[0].values.filter((function(e){return parseInt(e.month)===parseInt(r)+1})),n=[],o=0;o<s.length;o++)n.push({name:s[o].name,data:s[o].values});return n},s.state={spinner:!1,series:[],options:{chart:{type:"bar",height:430},plotOptions:{bar:{horizontal:!1,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,offsetX:-6,style:{fontSize:"12px",colors:["#fff"]}},stroke:{show:!0,width:1,colors:["#fff"]},title:{text:s.props.dashboard_metric?"Depots Comparison by Revenue":"Depots Comparison by Quantity"},yaxis:{title:{text:s.props.dashboard_metric?"Kshs (Millions)":"Litres"},min:0},tooltip:{shared:!0,intersect:!1,y:{formatter:s.props.dashboard_metric?function(e){return"Kshs ".concat(e," Millions")}:function(e){return"".concat(e," Litres")}}},xaxis:{categories:[]}}},s}return(0,o.Z)(r,[{key:"render",value:function(){return(0,T.jsx)("div",{id:"chart",children:this.state.spinner?(0,T.jsx)("div",{style:{height:380,position:"relative"},children:(0,T.jsx)(x.Z,{spinner:this.state.spinner})}):(0,T.jsx)(f.Z,{options:this.state.options,series:this.state.series,type:"bar",height:380})})}}]),r}(d.Component);O.getDerivedStateFromProps=function(e,t){var r=[];if(e.update_depot_product_month)return t.spinner=!0,t;t.spinner=!1;for(var s=0;s<e.depot_list.length;s++)r.push(e.depot_list[s].name);return t.series=function(e){for(var t=e.depot_product_month,r=e.depot_product_month_month,s=e.depot_product_month_year,n=e.depot_list,o=e.currency_type,a=null,i=[],c=(parseInt(s),parseInt(r)),p=0;p<t.length;p++){var d=t[p];a=e.dashboard_metric?d.revenue:d.quantity;var u=D(a,n,o,c);i.push({name:t[p].name,data:u})}return i}(e),t.options.xaxis.categories=r,t.options.yaxis.title.text=e.dashboard_metric?"Kshs (".concat(e.currency_type,")"):"Litres (".concat(e.currency_type,")"),t.options.tooltip.y.formatter=e.dashboard_metric?function(t){return"Kshs ".concat(t).concat((0,v.P)(e.currency_type))}:function(t){return"".concat(t).concat((0,v.P)(e.currency_type)," Litres")},t};var E=O,j=r(717),C=function(e){(0,a.Z)(r,e);var t=(0,i.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={year:parseInt(e.props.depot_product_month_year),month:parseInt(e.props.depot_product_month_month)},e.handleYearChange=function(){var t=(0,s.Z)(p().mark((function t(r){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.UPDATE_DEPOT_PRODUCT_MONTH_ACTION();case 2:return t.next=4,e.props.UPDATE_DEPOT_PRODUCT_MONTH_YEAR_ACTION(r);case 4:return t.next=6,e.props.GET_DEPOT_PRODUCT_MONTH_ACTION(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleMonthChange=function(){var t=(0,s.Z)(p().mark((function t(r){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.UPDATE_DEPOT_PRODUCT_MONTH_MONTH_ACTION(r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return(0,o.Z)(r,[{key:"render",value:function(){var e=this,t=["January","February","March","April","May","June","July","August","September","October","November","December"];return(0,T.jsxs)("div",{className:"pie-select",children:[(0,T.jsxs)(j.Z.Group,{className:"mb-4 pie-select__child",controlId:"exampleForm.ControlInput1",children:[(0,T.jsx)(j.Z.Label,{children:"Year"}),(0,T.jsxs)(j.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.handleYearChange(t.target.value)},children:[(0,T.jsx)("option",{children:this.state.year}),[2022,2021].map((function(t,r){return parseInt(e.state.year)===t?null:(0,T.jsx)("option",{value:t,children:t},r)}))]})]}),(0,T.jsxs)(j.Z.Group,{className:"mb-4 pie-select__child",controlId:"exampleForm.ControlInput1",children:[(0,T.jsx)(j.Z.Label,{children:"Month"}),(0,T.jsxs)(j.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.handleMonthChange(t.target.value)},children:[13===this.state.month?null:(0,T.jsx)("option",{value:this.state.month,children:t[parseInt(this.state.month)]}),(0,T.jsx)("option",{value:13,children:"All"}),t.map((function(t,r){return parseInt(e.state.month)===r?null:(0,T.jsx)("option",{value:r,children:t},r)}))]})]})]})}}]),r}(d.Component);C.getDerivedStateFromProps=function(e,t){return t.year=parseInt(e.depot_product_month_year),t.month=parseInt(e.depot_product_month_month),t};var P={UPDATE_DEPOT_PRODUCT_MONTH_MONTH_ACTION:y.CU,UPDATE_DEPOT_PRODUCT_MONTH_YEAR_ACTION:y.zY,GET_DEPOT_PRODUCT_MONTH_ACTION:y.Kq,UPDATE_DEPOT_PRODUCT_MONTH_ACTION:y.ff},Z=(0,u.$j)((function(e){return{depot_product_month_year:e.update_reducer.depot_product_month_year,depot_product_month_month:e.update_reducer.depot_product_month_month}}),P)(C),b=function(e){(0,a.Z)(r,e);var t=(0,i.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={depot:null},e.handleDepotChange=function(){var t=(0,s.Z)(p().mark((function t(r){var s;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.props.depots[parseInt(r)].id,t.next=3,e.props.UPDATE_DEPOT_SERIES_ACTION();case 3:return t.next=5,e.props.UPDATE_DEPOT_ACTION(r);case 5:return t.next=7,e.props.GET_DEPOT_SERIES_ACTION(s,e.props.selection_dates.startDate,e.props.selection_dates.endDate);case 7:return t.next=9,e.props.GET_DEPOT_PRODUCT_SERIES_ACTION(s,e.props.selection_dates.startDate,e.props.selection_dates.endDate);case 9:return t.next=11,e.props.GET_DEPOT_CUSTOMER_ACTION(s,e.props.depot_customer_year,e.props.depot_customer_month);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return(0,o.Z)(r,[{key:"render",value:function(){var e=this,t=this.props.depots;return(0,T.jsx)("div",{className:"pie-select",children:(0,T.jsxs)(j.Z.Group,{className:"mb-4 pie-select__child",controlId:"exampleForm.ControlInput1",children:[(0,T.jsx)(j.Z.Label,{children:"Depot"}),(0,T.jsxs)(j.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.handleDepotChange(t.target.value)},children:[(0,T.jsx)("option",{value:this.state.depot,children:t[parseInt(this.state.depot)].name}),t.map((function(t,r){return e.state.depot===r?null:(0,T.jsx)("option",{value:r,children:t.name},r)}))]})]})})}}]),r}(d.Component);b.getDerivedStateFromProps=function(e,t){return null===t.depot||void 0===e.depot?(t.depot=0,t):(t.depot=parseInt(e.depot),t)};var I={UPDATE_DEPOT_ACTION:y.Ek,GET_DEPOT_SERIES_ACTION:y.yj,GET_DEPOT_PRODUCT_SERIES_ACTION:y.Gs,GET_DEPOT_CUSTOMER_ACTION:y.n8,UPDATE_DEPOT_SERIES_ACTION:y.lb},N=(0,u.$j)((function(e){return{depots:e.list_reducer.depot_list,depot:e.update_reducer.depot,selection_dates:e.update_reducer.selection_dates,depot_customer_year:e.update_reducer.depot_customer_year,depot_customer_month:e.update_reducer.depot_customer_month}}),I)(b),g=r(8700),A=r.n(g),M=function(e,t){for(var r=[],s=0;s<e.length;s++)r.push([e[s].timestamp,"Million"===t?(0,v.$G)(e[s].sum/1e6):(0,v.$G)(e[s].sum/1e3)]);return r},S=function(e){(0,a.Z)(r,e);var t=(0,i.Z)(r);function r(e){var s;return(0,n.Z)(this,r),(s=t.call(this,e)).state={spinner:!1,series:[],currency_type:s.props.currency_type,selection_dates:s.props.selection_dates,options:{chart:{id:"area-datetime",type:"area",height:400,zoom:{autoScaleYaxis:!1}},title:{text:s.props.dashboard_metric?"Revenue":"Quantities"},annotations:{xaxis:[{x:new Date("".concat(s.props.selection_dates.startDate)).getTime(),borderColor:"#999",yAxisIndex:0}]},dataLabels:{enabled:!0},markers:{size:0,style:"hollow"},xaxis:{type:"datetime",tickAmount:5},yaxis:{title:{text:"Kshs (Millions)"},min:0},tooltip:{x:{format:"dd MMM yyyy"},y:{formatter:s.props.dashboard_metric?function(e){return"Kshs ".concat(e," Millions")}:function(e){return"".concat(e," Litres")}}}},selection:"one_month"},s}return(0,o.Z)(r,[{key:"render",value:function(){try{A().exec("area-datetime","zoomX",new Date("".concat(this.state.selection_dates.startDate)).getTime(),new Date("".concat(this.state.selection_dates.endDate)).getTime())}catch(e){}return(0,T.jsx)("div",{id:"chart",children:this.state.spinner?(0,T.jsx)("div",{style:{height:400,position:"relative"},children:(0,T.jsx)(x.Z,{spinner:this.state.spinner})}):(0,T.jsx)("div",{id:"chart-timeline",children:(0,T.jsx)(f.Z,{options:this.state.options,series:this.state.series,type:"area",height:400})})})}}]),r}(d.Component);S.getDerivedStateFromProps=function(e,t){var r=e.depot_series,s=e.update_product_series,n=e.dashboard_metric,o=e.selection_dates,a=e.currency_type,i=e.update_depot_series;if(console.log(),i||s)return t.spinner=!0,t;t.spinner=!1;var c=r,p=[],d=n?c.revenue:c.quantity;return"string"===typeof o.startDate&&(o.startDate=new Date("".concat(o.startDate)),o.endDate=new Date("".concat(o.endDate))),p=p.concat({name:c.name,data:M(d,a)}),t.series=p,t.options.title.text=n?"Revenue":"Quantities",t.options.yaxis.title.text=n?"Kshs (".concat(a,")"):"Litres (".concat(a,")"),t.options.tooltip.y.formatter=n?function(e){return"Kshs ".concat(e).concat((0,v.P)(a))}:function(e){return"".concat(e).concat((0,v.P)(a)," Litres")},t.selection_dates=o,t.currency_type=a,t};var R=S,U=function(e,t){for(var r=[],s=0;s<e.length;s++)r.push([e[s].timestamp,"Million"===t?(0,v.$G)(e[s].sum/1e6):(0,v.$G)(e[s].sum/1e3)]);return r},w=function(e){(0,a.Z)(r,e);var t=(0,i.Z)(r);function r(e){var s;return(0,n.Z)(this,r),(s=t.call(this,e)).state={spinner:!1,series:[],currency_type:s.props.currency_type,selection_dates:s.props.selection_dates,options:{chart:{id:"area-datetime",type:"area",height:400,zoom:{autoScaleYaxis:!1}},title:{text:s.props.dashboard_metric?"Revenue":"Quantities"},annotations:{xaxis:[{x:new Date("".concat(s.props.selection_dates.startDate)).getTime(),borderColor:"#999",yAxisIndex:0}]},dataLabels:{enabled:!0},markers:{size:0,style:"hollow"},xaxis:{type:"datetime",tickAmount:5},yaxis:{title:{text:"Kshs (Millions)"},min:0},tooltip:{x:{format:"dd MMM yyyy"},y:{formatter:s.props.dashboard_metric?function(e){return"Kshs ".concat(e," Millions")}:function(e){return"".concat(e," Litres")}}}},selection:"one_month"},s}return(0,o.Z)(r,[{key:"render",value:function(){try{A().exec("area-datetime","zoomX",new Date("".concat(this.state.selection_dates.startDate)).getTime(),new Date("".concat(this.state.selection_dates.endDate)).getTime())}catch(e){}return(0,T.jsx)("div",{id:"chart",children:this.state.spinner?(0,T.jsx)("div",{style:{height:400,position:"relative"},children:(0,T.jsx)(x.Z,{spinner:this.state.spinner})}):(0,T.jsx)("div",{id:"chart-timeline",children:(0,T.jsx)(f.Z,{options:this.state.options,series:this.state.series,type:"area",height:400})})})}}]),r}(d.Component);w.getDerivedStateFromProps=function(e,t){var r=e.depot_product_series,s=e.update_product_series,n=e.selection_dates,o=e.currency_type,a=e.dashboard_metric;if(e.update_depot_series||s)return t.spinner=!0,t;t.spinner=!1;var i=r;i=a?i.revenue:i.quantity,"string"===typeof n.startDate&&(n.startDate=new Date("".concat(n.startDate)),n.endDate=new Date("".concat(n.endDate)));for(var c=[],p=0;p<i.length;p++){var d=i[p].data,u=U(d,o);c=c.concat({name:i[p].name,data:u})}return t.series=c,t.options.title.text=a?"Revenue":"Quantities",t.options.yaxis.title.text=a?"Kshs (".concat(o,")"):"Litres (".concat(o,")"),t.options.tooltip.y.formatter=a?function(e){return"Kshs ".concat(e).concat((0,v.P)(o))}:function(e){return"".concat(e).concat((0,v.P)(o)," Litres")},t.selection_dates=n,t.currency_type=o,t};var G=w,k=r(8116),L=r(2591),z=function(e){(0,a.Z)(r,e);var t=(0,i.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={spinner:!1,customers_revenue:[],customers_quantity:[],currency_type:e.props.currency_type,active:1},e}return(0,o.Z)(r,[{key:"render",value:function(){for(var e=this,t=this.state.currency_type,r=this.state.customers_revenue,s=this.state.customers_quantity,n=[],o=this.state.active,a=8*(o-1),i=8*o,c=function(t){n.push((0,T.jsx)(k.Z.Item,{active:t===o,onClick:function(){return e.setState({active:t})},children:t},t))},p=1;p<=Math.ceil(r.length/8);p++)c(p);return(0,T.jsxs)("div",{className:"customer-summary",children:[(0,T.jsx)("h6",{children:"Depot Customers"}),this.state.spinner?(0,T.jsx)("div",{style:{height:400,position:"relative"},children:(0,T.jsx)(x.Z,{spinner:this.state.spinner})}):(0,T.jsxs)("div",{children:[(0,T.jsxs)(L.Z,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[(0,T.jsx)("thead",{children:(0,T.jsxs)("tr",{children:[(0,T.jsx)("th",{}),(0,T.jsx)("th",{children:"Name"}),(0,T.jsx)("th",{children:"No Orders"}),(0,T.jsx)("th",{children:"Million"===t?"Revenue (Millions)":"Revenue (Thousands)"}),(0,T.jsx)("th",{children:"Million"===t?"Quantity (Millions)":"Quantity (Thousands)"})]})}),(0,T.jsx)("tbody",{children:r.slice(a,i).map((function(e,r){return(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{children:a+r+1}),(0,T.jsx)("td",{children:e.customer__name}),(0,T.jsx)("td",{children:e.count}),(0,T.jsx)("td",{children:"Million"===t?(0,v.$G)(e.sum/1e6):(0,v.$G)(e.sum/1e3)}),(0,T.jsx)("td",{children:"Million"===t?(0,v.$G)(s[r].sum/1e6):(0,v.$G)(s[r].sum/1e3)})]},r)}))})]}),(0,T.jsx)(k.Z,{size:"sm",children:n})]})]})}}]),r}(d.Component);z.getDerivedStateFromProps=function(e,t){if(e.update_depot_series||e.update_depot_customer)return t.spinner=!0,t;t.spinner=!1;var r=function(e){var t=e.depot_customer,r=(e.depot,e.depot_customer_year,e.depot_customer_month,t);return[r.revenue,r.quantity]}(e);return t.customers_revenue=r[0],t.customers_quantity=r[1],t.currency_type=e.currency_type,t};var F=z,$=function(e){(0,a.Z)(r,e);var t=(0,i.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={year:e.props.depot_customer_year,month:e.props.depot_customer_month},e.handleChange=function(){var t=(0,s.Z)(p().mark((function t(r,s){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.depot_list[e.props.depot].id,t.next=3,e.props.UPDATE_DEPOT_CUSTOMER_ACTION();case 3:return t.next=5,e.props.UPDATE_DEPOT_CUSTOMER_YEAR_ACTION(r);case 5:return t.next=7,e.props.UPDATE_DEPOT_CUSTOMER_MONTH_ACTION(s);case 7:return t.next=9,e.props.GET_DEPOT_CUSTOMER_ACTION(n,r,s);case 9:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e}return(0,o.Z)(r,[{key:"render",value:function(){var e=this,t=this.state,r=t.year,s=t.month,n=["January","February","March","April","May","June","July","August","September","October","November","December"];return(0,T.jsxs)("div",{className:"pie-select",children:[(0,T.jsxs)(j.Z.Group,{className:"mb-4 pie-select__child",controlId:"exampleForm.ControlInput1",children:[(0,T.jsx)(j.Z.Label,{children:"Year"}),(0,T.jsxs)(j.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.handleChange(t.target.value,s)},children:[(0,T.jsx)("option",{children:this.state.year}),[2022,2021].map((function(t,r){return parseInt(e.state.year)===t?null:(0,T.jsx)("option",{value:t,children:t},r)}))]})]}),(0,T.jsxs)(j.Z.Group,{className:"mb-4 pie-select__child",controlId:"exampleForm.ControlInput1",children:[(0,T.jsx)(j.Z.Label,{children:"Month"}),(0,T.jsxs)(j.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.handleChange(r,t.target.value)},children:[13===parseInt(this.state.month)?null:(0,T.jsx)("option",{value:this.state.month,children:n[parseInt(this.state.month)]}),(0,T.jsx)("option",{value:13,children:"All"}),n.map((function(t,r){return parseInt(e.state.month)===r?null:(0,T.jsx)("option",{value:r,children:t},r)}))]})]})]})}}]),r}(d.Component);$.getDerivedStateFromProps=function(e,t){return t.year=e.depot_customer_year,t.month=e.depot_customer_month,t};var H={UPDATE_DEPOT_CUSTOMER_MONTH_ACTION:y.JZ,UPDATE_DEPOT_CUSTOMER_YEAR_ACTION:y.QM,GET_DEPOT_CUSTOMER_ACTION:y.n8,UPDATE_DEPOT_CUSTOMER_ACTION:y.$s},K=(0,u.$j)((function(e){return{depot_customer_month:parseInt(e.update_reducer.depot_customer_month),depot_customer_year:parseInt(e.update_reducer.depot_customer_year),depot:parseInt(e.update_reducer.depot),depot_list:e.list_reducer.depot_list}}),H)($),Y=r(968),q=function(e){(0,a.Z)(r,e);var t=(0,i.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={redirect:!1,spinner:!1,didnt_load:!1},e.componentDidMount=(0,s.Z)(p().mark((function t(){var r,s;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({spinner:!0}),r=void 0!==e.props.depot?e.props.depot_list[parseInt(e.props.depot)].id:e.props.depot_list[0].id,s=void 0!==e.props.depot?e.props.depot:0,t.next=5,e.props.UPDATE_DEPOT_ACTION(s);case 5:return t.next=7,e.props.GET_DEPOT_PRODUCT_MONTH_ACTION(e.props.depot_product_month_year);case 7:return t.next=9,e.props.GET_DEPOT_SERIES_ACTION(r,e.props.selection_dates.startDate,e.props.selection_dates.endDate);case 9:return t.next=11,e.props.GET_DEPOT_PRODUCT_SERIES_ACTION(r,e.props.selection_dates.startDate,e.props.selection_dates.endDate);case 11:return t.next=13,e.props.GET_DEPOT_CUSTOMER_ACTION(r,e.props.depot_customer_year,e.props.depot_customer_month);case 13:case"end":return t.stop()}}),t)}))),e}return(0,o.Z)(r,[{key:"render",value:function(){var e=this.state.spinner;return this.state.redirect?(0,T.jsx)(h.Fg,{to:"/login"}):(0,T.jsx)(m.Z,{header_title:"DEPOTS",children:e?(0,T.jsx)(x.Z,{spinner:e}):(0,T.jsxs)("div",{children:[this.props.token.is_staff?(0,T.jsx)(_.Z,{children:(0,T.jsx)(l.Z,{children:(0,T.jsxs)("div",{className:"chart-area",children:[(0,T.jsx)(Z,{}),(0,T.jsx)(E,{depot_product_month:this.props.depot_product_month,depot_list:this.props.depot_list,depot_product_month_month:this.props.depot_product_month_month,depot_product_month_year:this.props.depot_product_month_year,dashboard_metric:this.props.dashboard_metric,currency_type:this.props.currency_type,update_depot_product_month:this.props.update_depot_product_month})]})})}):(0,T.jsx)(Y.Z,{}),(0,T.jsx)(_.Z,{children:(0,T.jsx)(l.Z,{children:(0,T.jsx)(N,{})})}),(0,T.jsx)(_.Z,{children:(0,T.jsx)(l.Z,{children:(0,T.jsx)("div",{className:"chart-area",children:(0,T.jsx)(R,{depot_series:this.props.depot_series,depot:this.props.depot,dashboard_metric:this.props.dashboard_metric,currency_type:this.props.currency_type,selection_dates:this.props.selection_dates,update_depot_series:this.props.update_depot_series,update_product_series:this.props.update_product_series})})})}),(0,T.jsxs)(_.Z,{children:[(0,T.jsx)(l.Z,{xs:7,children:(0,T.jsx)("div",{className:"chart-area",children:(0,T.jsx)(G,{depot_product_series:this.props.depot_product_series,depot:this.props.depot,dashboard_metric:this.props.dashboard_metric,currency_type:this.props.currency_type,selection_dates:this.props.selection_dates,update_depot_series:this.props.update_depot_series,update_product_series:this.props.update_product_series})})}),(0,T.jsx)(l.Z,{xs:5,children:(0,T.jsxs)("div",{className:"chart-area",children:[(0,T.jsx)(K,{}),(0,T.jsx)(F,{depot_customer:this.props.depot_customer,depot_customer_year:this.props.depot_customer_year,depot_customer_month:this.props.depot_customer_month,depot:this.props.depot,currency_type:this.props.currency_type,update_depot_series:this.props.update_depot_series,update_depot_customer:this.props.update_depot_customer})]})})]})]})})}}]),r}(d.Component);q.getDerivedStateFromProps=function(){var e=(0,s.Z)(p().mark((function e(t,r){var s,n,o,a,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.token,n=t.depot_product_month,o=t.depot_series,t.depot_product_month_year,a=t.depot_product_series,i=t.depot_customer,void 0!==s&&""!==s){e.next=6;break}return r.redirect=!0,e.abrupt("return",r);case 6:r.spinner=!(n&&o&&a&&i);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();var Q={GET_DEPOT_PRODUCT_MONTH_ACTION:y.Kq,GET_DEPOT_SERIES_ACTION:y.yj,GET_DEPOT_PRODUCT_SERIES_ACTION:y.Gs,GET_DEPOT_CUSTOMER_ACTION:y.n8,UPDATE_DEPOT_ACTION:y.Ek},J=(0,u.$j)((function(e){return{token:e.auth_reducer.token,depot_series:e.list_reducer.depot_series,depot_product_series:e.list_reducer.depot_product_series,depot:e.update_reducer.depot,depot_customer:e.list_reducer.depot_customer,depot_product_month:e.list_reducer.depot_product_month?e.list_reducer.depot_product_month:[],depot_list:e.list_reducer.depot_list?e.list_reducer.depot_list:[],depot_product_month_month:e.update_reducer.depot_product_month_month,depot_product_month_year:e.update_reducer.depot_product_month_year,dashboard_metric:e.update_reducer.dashboard_metric,currency_type:e.update_reducer.currency_type,selection_dates:e.update_reducer.selection_dates,depot_customer_year:e.update_reducer.depot_customer_year,depot_customer_month:e.update_reducer.depot_customer_month,update_depot_product_month:e.list_reducer.update_depot_product_month,update_depot_series:e.list_reducer.update_depot_series,update_product_series:e.list_reducer.update_product_series,update_depot_customer:e.list_reducer.update_depot_customer}}),Q)(q)},8116:function(e,t,r){r.d(t,{Z:function(){return E}});var s=r(1413),n=r(5987),o=r(1694),a=r.n(o),i=r(2791),c=r(162),p=r(1784),d=r(184),u=["active","disabled","className","style","activeLabel","children"],_=["children"],l=i.forwardRef((function(e,t){var r=e.active,o=e.disabled,i=e.className,c=e.style,_=e.activeLabel,l=e.children,h=(0,n.Z)(e,u),m=r||o?"span":p.Z;return(0,d.jsx)("li",{ref:t,style:c,className:a()(i,"page-item",{active:r,disabled:o}),children:(0,d.jsxs)(m,(0,s.Z)((0,s.Z)({className:"page-link",disabled:o},h),{},{children:[l,r&&_&&(0,d.jsx)("span",{className:"visually-hidden",children:_})]}))})}));l.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},l.displayName="PageItem";var h=l;function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,o=i.forwardRef((function(e,o){var a=e.children,i=(0,n.Z)(e,_);return(0,d.jsxs)(l,(0,s.Z)((0,s.Z)({},i),{},{ref:o,children:[(0,d.jsx)("span",{"aria-hidden":"true",children:a||t}),(0,d.jsx)("span",{className:"visually-hidden",children:r})]}))}));return o.displayName=e,o}var y=m("First","\xab"),x=m("Prev","\u2039","Previous"),f=m("Ellipsis","\u2026","More"),v=m("Next","\u203a"),T=m("Last","\xbb"),D=["bsPrefix","className","size"],O=i.forwardRef((function(e,t){var r=e.bsPrefix,o=e.className,i=e.size,p=(0,n.Z)(e,D),u=(0,c.vE)(r,"pagination");return(0,d.jsx)("ul",(0,s.Z)((0,s.Z)({ref:t},p),{},{className:a()(o,u,i&&"".concat(u,"-").concat(i))}))}));O.displayName="Pagination";var E=Object.assign(O,{First:y,Prev:x,Ellipsis:f,Item:h,Next:v,Last:T})},2591:function(e,t,r){var s=r(1413),n=r(5987),o=r(1694),a=r.n(o),i=r(2791),c=r(162),p=r(184),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=i.forwardRef((function(e,t){var r=e.bsPrefix,o=e.className,i=e.striped,u=e.bordered,_=e.borderless,l=e.hover,h=e.size,m=e.variant,y=e.responsive,x=(0,n.Z)(e,d),f=(0,c.vE)(r,"table"),v=a()(o,f,m&&"".concat(f,"-").concat(m),h&&"".concat(f,"-").concat(h),i&&"".concat(f,"-striped"),u&&"".concat(f,"-bordered"),_&&"".concat(f,"-borderless"),l&&"".concat(f,"-hover")),T=(0,p.jsx)("table",(0,s.Z)((0,s.Z)({},x),{},{className:v,ref:t}));if(y){var D="".concat(f,"-responsive");return"string"===typeof y&&(D="".concat(D,"-").concat(y)),(0,p.jsx)("div",{className:D,children:T})}return T}));t.Z=u}}]);
//# sourceMappingURL=311.76f9bd04.chunk.js.map