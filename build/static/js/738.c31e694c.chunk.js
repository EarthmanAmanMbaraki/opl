"use strict";(self.webpackChunkopl_frontend=self.webpackChunkopl_frontend||[]).push([[738],{968:function(e,t,r){r.d(t,{Z:function(){return V}});var n=r(5861),s=r(5671),a=r(3144),o=r(136),l=r(5716),i=r(7757),c=r.n(i),u=r(2791),d=r(7467),p=r(6168),h=r(6856),m=r(978),_=r(8014),x=r(7161),f=r(3360),j=(r(2978),r(666),r(7366),r(4650)),v=r(9503),Z=r(717),C=r(9743),b=r(2677),S=r(9600),y=r(184),g=function(e){(0,o.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={product:null,customer:null,truck:null,entry_no:"",order_no:"",lpo_no:"",depot:null,date:new Date,vol_obs:null,vol_20:null,selling_price:null,products:[],paid:!0,trucks:[],spinner:!1,success:!1,null_error:!1},e.componentWillReceiveProps=function(){var t=(0,n.Z)(c().mark((function t(r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({spinner:!1,success:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleCustomerSelect=function(t){var r=e.props.customers[parseInt(t)];e.setState({customer:r.id,trucks:r.trucks})},e.onSubmit=function(){var t=(0,n.Z)(c().mark((function t(r){var n,s,a,o,l,i,u,d,p,h,m,_,x,f,j,v,Z;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r.preventDefault(),n=e.state,s=n.product,a=n.lpo_no,o=n.customer,l=n.truck,i=n.depot,u=n.entry_no,d=n.order_no,p=n.date,h=n.vol_obs,m=n.vol_20,_=n.selling_price,x=n.paid,f=[s,o,l,a,i,u,d,p,h,m,_],j=!1,v=0;v<f.length;v++)null!==f[v]&&""!==f[v]&&void 0!==f[v]||(j=!0);if(!j){t.next=9;break}e.setState({null_error:!0}),t.next=13;break;case 9:return e.setState({spinner:!0}),Z=e.props.sales_date,t.next=13,e.props.SALES_CREATE_ACTION(Z.start_date,Z.end_date,s,a,o,l,i,u,d,p,h,m,_,x);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this,t=this.state,r=t.date,n=t.trucks,s=this.props,a=s.depots,o=s.customers,l=s.products;return(0,y.jsxs)("div",{className:"upload-form",children:[this.state.spinner?(0,y.jsx)(S.Z,{spinner:this.state.spinner}):null,(0,y.jsx)("h4",{className:"upload-title",children:"Fill the information"}),this.state.success?(0,y.jsx)(v.Z,{variant:"success",size:"sm",children:"Entry Created successful"}):null,this.state.null_error?(0,y.jsx)(v.Z,{variant:"danger",size:"sm",children:"All the fields must be field"}):null,(0,y.jsxs)(Z.Z,{onSubmit:this.onSubmit,children:[(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Date"}),(0,y.jsx)(Z.Z.Control,{type:"date",placeholder:"Date",size:"sm",value:r,onChange:function(t){return e.setState({date:t.target.value})}})]}),(0,y.jsxs)(C.Z,{style:{marginTop:0,height:"auto"},children:[(0,y.jsx)(b.Z,{children:(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Depot"}),(0,y.jsxs)(Z.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.setState({depot:t.target.value})},children:[(0,y.jsx)("option",{children:"Select"}),a.map((function(e,t){return(0,y.jsx)("option",{value:e.id,children:e.name})}))]})]})}),(0,y.jsx)(b.Z,{children:(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Customer"}),(0,y.jsxs)(Z.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.handleCustomerSelect(t.target.value)},children:[(0,y.jsx)("option",{children:"Select"}),o.map((function(e,t){return(0,y.jsx)("option",{value:t,children:e.name})}))]})]})}),(0,y.jsx)(b.Z,{children:(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Truck"}),(0,y.jsxs)(Z.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.setState({truck:t.target.value})},children:[(0,y.jsx)("option",{children:"Select"}),n.map((function(e){return(0,y.jsxs)("option",{value:e.id,children:[e.plate_no," - ",e.driver.first_name]})}))]})]})})]}),(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Product"}),(0,y.jsxs)(Z.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.setState({product:t.target.value})},children:[(0,y.jsx)("option",{children:"Select"}),l.map((function(e){return(0,y.jsx)("option",{value:e.id,children:e.name})}))]})]}),(0,y.jsx)("h6",{className:"upload-form__details",children:"Details"}),(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Order No"}),(0,y.jsx)(Z.Z.Control,{type:"text",placeholder:"Order No",size:"sm",onChange:function(t){return e.setState({order_no:t.target.value})}})]}),(0,y.jsxs)(C.Z,{style:{marginTop:0,height:"auto"},children:[(0,y.jsx)(b.Z,{children:(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Lpo no"}),(0,y.jsx)(Z.Z.Control,{type:"text",placeholder:"Lpo no",size:"sm",onChange:function(t){return e.setState({lpo_no:t.target.value})}})]})}),(0,y.jsx)(b.Z,{children:(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Entry no"}),(0,y.jsx)(Z.Z.Control,{type:"text",placeholder:"Entry No",size:"sm",onChange:function(t){return e.setState({entry_no:t.target.value})}})]})})]}),(0,y.jsxs)(C.Z,{style:{marginTop:0,height:"auto"},children:[(0,y.jsx)(b.Z,{children:(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Vol OBS"}),(0,y.jsx)(Z.Z.Control,{type:"text",placeholder:"Vol OBS",size:"sm",onChange:function(t){return e.setState({vol_obs:t.target.value})}})]})}),(0,y.jsx)(b.Z,{children:(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Vol@20"}),(0,y.jsx)(Z.Z.Control,{type:"text",placeholder:"Vol@20",size:"sm",onChange:function(t){return e.setState({vol_20:t.target.value})}})]})})]}),(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Selling Price"}),(0,y.jsx)(Z.Z.Control,{type:"text",placeholder:"Selling price",size:"sm",onChange:function(t){return e.setState({selling_price:t.target.value})}})]}),(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Paid"}),(0,y.jsxs)("div",{className:"mb-3",children:[(0,y.jsx)(Z.Z.Check,{inline:!0,label:"Yes",name:"group1",type:"radio",id:"inline-radio-1",onClick:function(){return e.setState({paid:!0})}}),(0,y.jsx)(Z.Z.Check,{inline:!0,label:"No",name:"group1",type:"radio",id:"inline-radio-2",onClick:function(){return e.setState({paid:!1})}})]},"inline-radio")]}),(0,y.jsx)("div",{align:"center",children:(0,y.jsx)(f.Z,{variant:"primary",type:"submit",children:"Upload"})})]})]})}}]),r}(u.Component),N={SALES_CREATE_ACTION:j.rT},D=(0,p.$j)((function(e){return{depots:e.list_reducer.depot_list?e.list_reducer.depot_list:[],products:e.list_reducer.product_list?e.list_reducer.product_list:[],customers:e.list_reducer.customer_list?e.list_reducer.customer_list:[],sales_list:e.list_reducer.sales_list?e.list_reducer.sales_list:[],sales_date:e.update_reducer.sales_date}}),N)(g),I=r(3545),T=function(e){(0,o.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={name:"",location:"",spinner:!1,success:!1,null_error:!1,show_errors:!1,customer_list:e.props.customer_list},e.onSubmit=function(){var t=(0,n.Z)(c().mark((function t(r){var n,s,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=e.state,s=n.name,a=n.location,""!==s&&""!==a){t.next=6;break}e.setState({null_error:!0}),t.next=9;break;case 6:return e.setState({spinner:!0}),t.next=9,e.props.CUSTOMER_CREATE_ACTION(s,a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this;return(0,y.jsxs)("div",{className:"upload-form",children:[this.state.spinner?(0,y.jsx)("div",{className:"spinner",children:(0,y.jsx)(I.CJ,{color:"#00BFFF",height:100,width:100,timeout:4e3,visible:this.state.spinner})}):null,(0,y.jsx)("h4",{children:"Create Customer"}),this.state.success?(0,y.jsx)(v.Z,{variant:"success",size:"sm",children:"Customer created successful"}):null,this.state.null_error?(0,y.jsx)(v.Z,{variant:"danger",size:"sm",children:"The fields cannot be empty"}):null,(0,y.jsxs)(Z.Z,{onSubmit:this.onSubmit,id:"sub",children:[(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Customer name"}),(0,y.jsx)(Z.Z.Control,{type:"text",placeholder:"Name",size:"sm",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value,success:!1,null_error:!1,show_errors:!1})}})]}),(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Code"}),(0,y.jsx)(Z.Z.Control,{type:"text",placeholder:"Name",size:"sm",value:this.state.location,onChange:function(t){return e.setState({location:t.target.value,success:!1,null_error:!1,show_errors:!1})}})]}),(0,y.jsx)("div",{children:(0,y.jsx)(f.Z,{variant:"primary",type:"submit",size:"sm",id:"add_customer",children:"Create"})})]})]})}}]),r}(u.Component);T.getDerivedStateFromProps=function(){var e=(0,n.Z)(c().mark((function e(t,r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.customer_list){e.next=4;break}return e.abrupt("return",null);case 4:(void 0===r.customer_list&&void 0!==t.customer_list||t.customer_list.length>r.customer_list.length)&&(r.spinner=!1,r.success=!0,r.null_error=!1);case 5:return r.customer_list=t.customer_list,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();var k={CUSTOMER_CREATE_ACTION:j.nO},E=(0,p.$j)((function(e){return{customer_list:e.list_reducer.customer_list}}),k)(T),w=function(e){(0,o.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={customer:null,depot:null,spinner:!1,success:!1,null_error:!1,show_errors:!1},e.handleCustomerSelect=function(t){e.setState({customer:t})},e.handleDepotSelect=function(t){e.setState({depot:t})},e.onSubmit=function(){var t=(0,n.Z)(c().mark((function t(r){var n,s,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=e.state,s=n.depot,a=n.customer,null!==s&&null!==a){t.next=6;break}e.setState({null_error:!0}),t.next=9;break;case 6:return e.setState({spinner:!0}),t.next=9,e.props.ADD_CUSTOMER_ACTION(s,a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentDidMount=(0,n.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.ADD_CUSTOMER_REMOVE_ACTION();case 2:case"end":return t.stop()}}),t)}))),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this;return(0,y.jsxs)("div",{className:"upload-form",children:[this.state.spinner?(0,y.jsx)("div",{className:"spinner",children:(0,y.jsx)(I.CJ,{color:"#00BFFF",height:100,width:100,timeout:4e3,visible:this.state.spinner})}):null,(0,y.jsx)("h4",{children:"Add Customer"}),this.state.success?(0,y.jsx)(v.Z,{variant:"success",size:"sm",children:"Customer Added successfull"}):null,this.state.null_error?(0,y.jsx)(v.Z,{variant:"danger",size:"sm",children:"The fields cannot be empty"}):null,this.state.show_errors?(0,y.jsx)(v.Z,{variant:"danger",children:"Something went wrong!"}):null,(0,y.jsxs)(Z.Z,{onSubmit:this.onSubmit,id:"sub",children:[(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Depot"}),(0,y.jsxs)(Z.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.handleDepotSelect(t.target.value)},children:[(0,y.jsx)("option",{children:"Select"}),this.props.depots.map((function(e,t){return(0,y.jsx)("option",{value:e.id,children:e.name})}))]})]}),(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Customer"}),(0,y.jsxs)(Z.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.handleCustomerSelect(t.target.value)},children:[(0,y.jsx)("option",{children:"Select"}),this.props.customers.map((function(e,t){return(0,y.jsx)("option",{value:e.id,children:e.name})}))]})]}),(0,y.jsx)("div",{children:(0,y.jsx)(f.Z,{variant:"primary",type:"submit",size:"sm",id:"add_customer",children:"Add"})})]})]})}}]),r}(u.Component);w.getDerivedStateFromProps=function(e,t){return void 0!==e.add_customer&&("success"===e.add_customer.status?(t.spinner=!1,t.success=!0,t.null_error=!1):(t.spinner=!1,t.show_errors=!0)),t};var A={ADD_CUSTOMER_ACTION:j.Y5,ADD_CUSTOMER_REMOVE_ACTION:j.hJ},O=(0,p.$j)((function(e){return{customers:e.list_reducer.customer_list,depots:e.list_reducer.depot_list,add_customer:e.update_reducer.add_customer}}),A)(w),z=function(e){(0,o.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={file:null,spinner:!1,success:!1,show_error:!1,null_error:!1,depot:null},e.componentWillReceiveProps=function(){var t=(0,n.Z)(c().mark((function t(r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.upload_excel_error?e.setState({show_error:!0,spinner:!1}):e.setState({spinner:!1,success:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSubmit=function(){var t=(0,n.Z)(c().mark((function t(r){var n,s,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=e.state,s=n.file,a=n.depot,null!==s&&null!==a){t.next=6;break}e.setState({null_error:!0}),t.next=9;break;case 6:return e.setState({spinner:!0}),t.next=9,e.props.UPLOAD_EXCEL_ACTION(s,a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this;return(0,y.jsxs)("div",{className:"upload-form",children:[this.state.spinner?(0,y.jsx)("div",{className:"spinner",children:(0,y.jsx)(I.CJ,{color:"#00BFFF",height:100,width:100,timeout:4e3,visible:this.state.spinner})}):null,(0,y.jsx)("h5",{children:"Upload File"}),this.state.success?(0,y.jsx)(v.Z,{variant:"success",size:"sm",children:"File Uploaded successful"}):null,this.state.show_error?(0,y.jsx)(v.Z,{variant:"danger",size:"sm",children:this.props.upload_excel_error.message}):null,this.state.null_error?(0,y.jsx)(v.Z,{variant:"danger",size:"sm",children:"All the field must be filled"}):null,(0,y.jsxs)(Z.Z,{onSubmit:this.onSubmit,children:[(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Depot"}),(0,y.jsxs)(Z.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.setState({depot:t.target.value})},children:[(0,y.jsx)("option",{children:"Select"}),this.props.depot_list.map((function(e){return(0,y.jsx)("option",{value:e.id,children:e.name})}))]})]}),(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"File"}),(0,y.jsx)(Z.Z.Control,{type:"file",accept:".xlsx, .xls, .csv",placeholder:"File",size:"sm",onChange:function(t){return e.setState({file:t.target.files[0]})}})]}),(0,y.jsx)("div",{children:(0,y.jsx)(f.Z,{variant:"primary",type:"submit",value:this.state.file,size:"sm",children:"Upload"})})]})]})}}]),r}(u.Component),F={UPLOAD_EXCEL_ACTION:j.k},R=(0,p.$j)((function(e){return{uploaded_excel:e.update_reducer.uploaded_excel,upload_excel_error:e.update_reducer.upload_excel_error,depot_list:e.list_reducer.depot_list}}),F)(z),L=r(7883),U=function(e){(0,o.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={depot:null},e.onSubmit=function(){var t=(0,n.Z)(c().mark((function t(r){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),n=e.state.depot,window.open("".concat(L.J,"/depot/download/").concat(parseInt(n),"/"),"_blank");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this;return(0,y.jsxs)("div",{className:"upload-form",children:[(0,y.jsx)("h4",{children:"Download Template"}),(0,y.jsxs)(Z.Z,{onSubmit:this.onSubmit,children:[(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Depot"}),(0,y.jsxs)(Z.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.setState({depot:t.target.value})},children:[(0,y.jsx)("option",{children:"Select"}),this.props.depot_list.map((function(e){return(0,y.jsx)("option",{value:e.id,children:e.name})}))]})]}),(0,y.jsx)("div",{children:(0,y.jsx)(f.Z,{variant:"primary",type:"submit",size:"sm",children:"Download"})})]})]})}}]),r}(u.Component),P=(0,p.$j)((function(e){return{depot_list:e.list_reducer.depot_list}}),{})(U),G=function(e){(0,o.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={customer:null,customers:[],customer_index:null,plate_no:"",first_name:"",last_name:"",spinner:!1,success:!1,null_error:!1,show_errors:!1,customer_list:e.props.customer_list},e.handleCustomerSelect=function(t){var r=e.props.customers[t];e.setState({customer:r.id,customer_index:t})},e.onSubmit=function(){var t=(0,n.Z)(c().mark((function t(r){var n,s,a,o,l;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=e.state,s=n.customer,a=n.plate_no,o=n.first_name,l=n.last_name,""!==a&&""!=o&&""!=l){t.next=6;break}e.setState({null_error:!0}),t.next=9;break;case 6:return e.setState({spinner:!0}),t.next=9,e.props.TRUCK_CREATE_ACTION(s,a,o,l);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this;return(0,y.jsxs)("div",{className:"upload-form",children:[this.state.spinner?(0,y.jsx)("div",{className:"spinner",children:(0,y.jsx)(I.CJ,{color:"#00BFFF",height:100,width:100,timeout:4e3,visible:this.state.spinner})}):null,(0,y.jsx)("h4",{children:"Add Truck"}),this.state.success?(0,y.jsx)(v.Z,{variant:"success",size:"sm",children:"Truck created successful"}):null,this.state.null_error?(0,y.jsx)(v.Z,{variant:"danger",size:"sm",children:"The fields cannot be empty"}):null,(0,y.jsxs)(Z.Z,{onSubmit:this.onSubmit,id:"sub",children:[(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Customer"}),(0,y.jsxs)(Z.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.handleCustomerSelect(t.target.value)},children:[(0,y.jsx)("option",{children:"Select"}),this.props.customers.map((function(e,t){return(0,y.jsx)("option",{value:t,children:e.name})}))]})]}),(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Plate No"}),(0,y.jsx)(Z.Z.Control,{type:"text",placeholder:"Name",size:"sm",value:this.state.plate_no,onChange:function(t){return e.setState({plate_no:t.target.value,success:!1,null_error:!1,show_errors:!1})}})]}),(0,y.jsx)("h6",{className:"upload-form__details",children:"Driver"}),(0,y.jsxs)(C.Z,{children:[(0,y.jsx)(b.Z,{children:(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"First Name"}),(0,y.jsx)(Z.Z.Control,{type:"text",placeholder:"Name",size:"sm",value:this.state.first_name,onChange:function(t){return e.setState({first_name:t.target.value,success:!1,null_error:!1,show_errors:!1})}})]})}),(0,y.jsx)(b.Z,{children:(0,y.jsxs)(Z.Z.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[(0,y.jsx)(Z.Z.Label,{children:"Last Name"}),(0,y.jsx)(Z.Z.Control,{type:"text",placeholder:"Name",size:"sm",value:this.state.last_name,onChange:function(t){return e.setState({last_name:t.target.value,success:!1,null_error:!1,show_errors:!1})}})]})})]}),(0,y.jsx)("div",{children:(0,y.jsx)(f.Z,{variant:"primary",type:"submit",size:"sm",id:"add_customer",children:"Add"})})]})]})}}]),r}(u.Component);G.getDerivedStateFromProps=function(){var e=(0,n.Z)(c().mark((function e(t,r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==r.customer_index&&t.customers[parseInt(r.customer_index)].trucks.length>r.customers[parseInt(r.customer_index)].trucks.length&&(r.spinner=!1,r.success=!0,r.null_error=!1,r.show_errors=!1),r.customers=t.customers,e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();var M={TRUCK_CREATE_ACTION:j.WW},$=(0,p.$j)((function(e){return{customers:e.list_reducer.customer_list}}),M)(G),B=function(e){(0,o.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={startDate:e.props.selection_dates.startDate,endDate:e.props.selection_dates.endDate,dashboard_metric:e.props.dashboard_metric,key:"selection"},e.handleMetricChange=function(){var t=(0,n.Z)(c().mark((function t(r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("revenue"!==r){t.next=5;break}return t.next=3,e.props.UPDATE_DASHBOARD_METRIC_ACTION(!0);case 3:t.next=7;break;case 5:return t.next=7,e.props.UPDATE_DASHBOARD_METRIC_ACTION(!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSelect=function(){var t=(0,n.Z)(c().mark((function t(r){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.depot_list[parseInt(e.props.depot)].id,e.setState({startDate:r.selection.startDate,endDate:r.selection.endDate}),t.next=4,e.props.UPDATE_SELECTION_DATES_ACTION({startDate:r.selection.startDate,endDate:r.selection.endDate});case 4:return t.next=6,e.props.GET_PRODUCT_SERIES_ACTION(r.selection.startDate,r.selection.endDate);case 6:return t.next=8,e.props.UPDATE_PRODUCT_SERIES_ACTION();case 8:return t.next=10,e.props.GET_DEPOT_SERIES_ACTION(n,r.selection.startDate,r.selection.endDate);case 10:return t.next=12,e.props.GET_DEPOT_PRODUCT_SERIES_ACTION(n,r.selection.startDate,r.selection.endDate);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return(0,a.Z)(r,[{key:"render",value:function(){var e=this;return(0,y.jsxs)("div",{className:"buttons",children:[(0,y.jsx)(d.Z,{trigger:(0,y.jsx)(f.Z,{className:"input-dates",size:"sm",children:(0,y.jsxs)("div",{className:"input-dates__input-display",children:[(0,y.jsx)("span",{children:(0,y.jsx)(h.kVv,{color:"#D04D30",size:18})}),this.state.startDate.toDateString()," - ",this.state.endDate.toDateString(),(0,y.jsx)("span",{children:(0,y.jsx)(h.Ix0,{size:18})})]})}),position:"bottom",children:(0,y.jsx)(x.Dw,{onChange:this.handleSelect,showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:[this.state],direction:"horizontal",preventSnapRefocus:!0,calendarFocus:"backwards",className:"input-date__date-range"})}),(0,y.jsxs)("div",{className:"metrics",children:[(0,y.jsxs)(f.Z,{variant:this.state.dashboard_metric?"info":"secondary",size:"sm",className:"metrics__add-button",style:{color:"black"},onClick:function(){return e.handleMetricChange("revenue")},children:[(0,y.jsx)(_.yPk,{color:"green",size:20}),"Revenue"]}),(0,y.jsxs)(f.Z,{variant:!1===this.state.dashboard_metric?"info":"secondary",size:"sm",className:"metrics__add-button",style:{color:"black"},onClick:function(){return e.handleMetricChange("quantities")},children:[(0,y.jsx)(h.qYw,{color:"orange",size:20}),"Quantities"]})]}),(0,y.jsxs)("div",{className:"form",children:[(0,y.jsx)(d.Z,{contentStyle:{width:300},trigger:(0,y.jsxs)(f.Z,{variant:"secondary",size:"sm",className:"form__add-button",style:{color:"black"},children:[(0,y.jsx)(h.YZd,{color:"green",size:20}),"Template"]}),position:"bottom",children:(0,y.jsx)(P,{})}),(0,y.jsx)(d.Z,{contentStyle:{width:300},trigger:(0,y.jsxs)(f.Z,{variant:"secondary",size:"sm",className:"form__add-button",style:{color:"black"},children:[(0,y.jsx)(m.bBH,{color:"green",size:20}),"Upload"]}),position:"bottom center",children:(0,y.jsx)(R,{})}),(0,y.jsxs)(d.Z,{contentStyle:{width:300},trigger:(0,y.jsxs)(f.Z,{variant:"info",size:"sm",className:"form__add-button",children:[(0,y.jsx)(h.QNf,{color:"#e9e7ec",size:20}),"Customer"]}),position:"bottom center",children:[(0,y.jsx)(O,{}),(0,y.jsx)(E,{})]}),(0,y.jsx)(d.Z,{contentStyle:{width:300},trigger:(0,y.jsxs)(f.Z,{variant:"info",size:"sm",className:"form__add-button",children:[(0,y.jsx)(h.QNf,{color:"#e9e7ec",size:20}),"Truck"]}),position:"bottom center",children:(0,y.jsx)($,{})}),(0,y.jsx)(d.Z,{contentStyle:{width:500,minHeight:400},trigger:(0,y.jsxs)(f.Z,{variant:"primary",size:"sm",className:"form__add-button",children:[(0,y.jsx)(h.QNf,{color:"#e9e7ec",size:20}),"Add Order"]}),position:"left top",children:(0,y.jsx)(D,{})})]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.selection_dates,n=e.dashboard_metric;return r.startDate,t.startDate=new Date("".concat(r.startDate)),t.endDate=new Date("".concat(r.endDate)),t.dashboard_metric=n,t}}]),r}(u.Component),J={UPDATE_DASHBOARD_METRIC_ACTION:j.$d,UPDATE_SELECTION_DATES_ACTION:j.zS,GET_PRODUCT_SERIES_ACTION:j.MV,GET_DEPOT_SERIES_ACTION:j.yj,GET_DEPOT_PRODUCT_SERIES_ACTION:j.Gs,UPDATE_PRODUCT_SERIES_ACTION:j.n9},V=(0,p.$j)((function(e){return{selection_dates:e.update_reducer.selection_dates,dashboard_metric:e.update_reducer.dashboard_metric,depot:e.update_reducer.depot,depot_list:e.list_reducer.depot_list}}),J)(B)},3847:function(e,t,r){r.d(t,{$G:function(){return a},P:function(){return s},zI:function(){return n}});var n=function(e,t){return e.setMonth(e.getMonth()+t),e},s=function(e){return"Million"===e?"m":"k"},a=function(e){return parseFloat(e.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0])}},4475:function(e,t,r){r.d(t,{Z:function(){return N}});var n=r(5671),s=r(3144),a=r(136),o=r(5716),l=r(2791),i=r(7022),c=r(3360),u=r(6168),d=r(6856),p=r(3504),h=r(6871),m=r(5861),_=r(7757),x=r.n(_),f=r(717),j=r(4650),v=r(184),Z=function(e){(0,a.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={currency_type:e.props.currency_type},e.handleCurrencyTypeChange=function(){var t=(0,m.Z)(x().mark((function t(r){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.UPDATE_CURRENCY_TYPE_ACTION(r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return(0,s.Z)(r,[{key:"render",value:function(){var e=this;return(0,v.jsxs)("div",{className:"header",children:[(0,v.jsx)("h5",{children:this.props.header_title}),(0,v.jsxs)("div",{className:"header__left",children:[(0,v.jsx)(f.Z.Group,{className:"header__currency",controlId:"exampleForm.ControlInput1",children:(0,v.jsxs)(f.Z.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.handleCurrencyTypeChange(t.target.value)},children:[(0,v.jsx)("option",{children:this.state.currency_type}),["Million","Thousand"].map((function(t,r){return e.state.currency_type===t?null:(0,v.jsx)("option",{value:t,children:t},r)}))]})}),(0,v.jsxs)(c.Z,{variant:"secondary",size:"sm",children:[this.props.first_name[0],this.props.last_name[0]]}),(0,v.jsxs)("p",{className:"header__header-name",children:[this.props.first_name," ",this.props.last_name]})]})]})}}]),r}(l.Component);Z.getDerivedStateFromProps=function(){var e=(0,m.Z)(x().mark((function e(t,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.currency_type=t.currency_type,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();var C={UPDATE_CURRENCY_TYPE_ACTION:j.wS},b=(0,u.$j)((function(e){return{currency_type:e.update_reducer.currency_type}}),C)(Z),S=r(7883),y=function(e){(0,a.Z)(r,e);var t=(0,o.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={redirect:!1},e.handleLogOut=function(){e.props.USER_LOGGED_OUT_ACTION(),e.setState({redirect:!0})},e}return(0,s.Z)(r,[{key:"render",value:function(){return this.state.redirect?(0,v.jsx)(h.Fg,{to:"/login"}):(0,v.jsxs)(i.Z,{fluid:!0,className:"layout_main",children:[(0,v.jsxs)("div",{className:"layout_main__side",children:[(0,v.jsx)(p.rU,{to:"/",className:"layout_main__logo",children:(0,v.jsx)("img",{src:"".concat(S.J,"/static/opl_logo.png"),alt:"logo",className:"layout_main__logo--img"})}),(0,v.jsxs)("div",{className:"layout_main__links",children:[!0===this.props.token.is_staff?(0,v.jsx)(p.OL,{to:"/",className:"layout_main__button",children:(0,v.jsxs)("h6",{children:[(0,v.jsx)("span",{className:"layout_main__links--span",children:(0,v.jsx)(d.bUq,{size:20,color:"#D04D30"})}),"Dashboard"]})}):null,(0,v.jsx)(p.OL,{to:"/depots",className:"layout_main__button",children:(0,v.jsxs)("h6",{children:[(0,v.jsx)("span",{className:"layout_main__links--span",children:(0,v.jsx)(d.UDA,{})}),"Depots"]})}),!0===this.props.token.is_staff?(0,v.jsx)(p.OL,{to:"/sales",className:"layout_main__button",children:(0,v.jsxs)("h6",{children:[(0,v.jsx)("span",{className:"layout_main__links--span",children:(0,v.jsx)(d.jvR,{})}),"Sales"]})}):null,!0===this.props.token.is_staff?(0,v.jsx)(p.OL,{to:"/customers",className:"layout_main__button",children:(0,v.jsxs)("h6",{children:[(0,v.jsx)("span",{className:"layout_main__links--span",children:(0,v.jsx)(d.J8I,{})}),"Customers"]})}):null,(0,v.jsx)(c.Z,{variant:"transparent",className:"layout_main__button layout_main__logout",onClick:this.handleLogOut,children:(0,v.jsxs)("h6",{children:[(0,v.jsx)("span",{className:"layout_main__links--span",children:(0,v.jsx)(d.lE7,{})}),"Log Out"]})})]})]}),(0,v.jsxs)("div",{className:"layout_main__component",children:[(0,v.jsx)(b,{header_title:this.props.header_title,first_name:this.props.token.data.first_name,last_name:this.props.token.data.last_name}),this.props.children]})]})}}]),r}(l.Component),g={USER_LOGGED_OUT_ACTION:j.$},N=(0,u.$j)((function(e){return{token:e.auth_reducer.token}}),g)(y)}}]);
//# sourceMappingURL=738.c31e694c.chunk.js.map