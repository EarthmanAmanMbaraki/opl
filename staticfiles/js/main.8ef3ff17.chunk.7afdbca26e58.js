(this.webpackJsonpopl=this.webpackJsonpopl||[]).push([[0],{146:function(e,t,r){},158:function(e,t,r){},232:function(e,t,r){},270:function(e,t,r){},271:function(e,t,r){},278:function(e,t,r){},330:function(e,t){},332:function(e,t){},342:function(e,t){},344:function(e,t){},371:function(e,t){},373:function(e,t){},374:function(e,t){},379:function(e,t){},381:function(e,t){},400:function(e,t){},412:function(e,t){},415:function(e,t){},420:function(e,t,r){},422:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r.n(n),s=r(40),c=r.n(s),o=(r(270),r(271),r(16)),i=r(8),l=r(9),u=r(10),d=r(11),p=r(34),h=r(26),j=r(7),b=r(3),m=r.n(b),O=r(426),x=r(427),f=r(239),_=r(430),v=r(431),y=r(428),g=r(23);function S(e,t){return C.apply(this,arguments)}function C(){return(C=Object(j.a)(m.a.mark((function e(t,r){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://opl.azurewebsites.net/accounts/get-token/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:t,password:r})});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,n=null,e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var N=r(50),k=r(153),T=r(237),w=r(99),I=r.n(w),E="GET_TOKEN",D="GET_TOKEN_ERROR",A="GET_TOKEN_ERROR_REMOVE",R="CREATE_CUSTOMER",z="CREATE_CUSTOMER_ERROR",L="CUSTOMER_LIST",F="CREATE_TRUCK",M="CREATE_TRUCK_ERROR",P="CREATE_ENTRY",U="CREATE_ENTRY_ERROR",G="UPDATE_ENTRY",W="UPDATE_ENTRY_ERROR",B="DELETE_ENTRY",Y="DELETE_ENTRY_ERROR",J="ENTRY_LIST",V="PRODUCT_LIST",K="PRODUCT_INDEX",X="BI_LIST",$="PRODUCT_BI_LIST",H="CUSTOMER_BI_LIST",q="CUSTOMER_DATA",Q="ORDER_DATES",Z="USER_LOGGED_OUT",ee="UPLOAD_EXCEL",te="UPLOAD_EXCEL_ERROR",re=function(e,t){return Object.assign({},e,t)},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return re(e,{token:t.payload,login_error:null});case D:case A:return re(e,{login_error:t.payload});default:return e}},ae=function(e,t){return Object.assign({},e,t)},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return ae(e,{created_customer:t.payload,create_customer_error:null});case z:return ae(e,{create_customer_error:t.payload});case F:return ae(e,{created_truck:t.payload,create_truck_error:null});case M:return ae(e,{create_truck_error:t.payload});case P:return ae(e,{created_entry:t.payload,create_entry_error:null});case U:return ae(e,{create_entry_error:t.payload});case ee:return ae(e,{uploaded_excel:t.payload,upload_excel_error:null});case te:return ae(e,{upload_excel_error:t.payload});default:return e}},ce=function(e,t){return Object.assign({},e,t)},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return ce(e,{customers:t.payload});case V:return ce(e,{products:t.payload});case K:return ce(e,{product_index:t.payload});case J:return ce(e,{entries:t.payload});case X:return ce(e,{bi_list:t.payload});case $:return ce(e,{product_bi_list:t.payload});case H:return ce(e,{customer_bi_list:t.payload});case q:return ce(e,{customer_data:t.payload});case Q:return ce(e,{order_dates:t.payload});default:return e}},ie=function(e,t){return Object.assign({},e,t)},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return ie(e,{updated_entry:t.payload,update_entry_error:null});case W:return ie(e,{update_entry_error:t.payload});case B:return ie(e,{deleted_entry:t.payload,delete_entry_error:null});case Y:return ie(e,{delete_entry_error:t.payload});default:return e}},ue=Object(N.b)({auth_reducer:ne,create_reducer:se,list_reducer:oe,update_reducer:le}),de=function(e,t){return t.type===Z&&(I.a.removeItem("persist:root"),e=void 0),ue(e,t)},pe={key:"root",storage:I.a},he=Object(k.a)(pe,de),je=Object(N.c)(he,Object(N.a)(T.a));Object(k.b)(je);function be(e,t){return me.apply(this,arguments)}function me(){return(me=Object(j.a)(m.a.mark((function e(t,r){var n,a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=je.getState().auth_reducer.token.token,e.prev=1,e.next=4,fetch("https://opl.azurewebsites.net/customers/",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(n)}});case 4:return a=e.sent,e.next=7,a.json();case 7:return s=e.sent,a=null,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(1),console.log(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Oe(){return xe.apply(this,arguments)}function xe(){return(xe=Object(j.a)(m.a.mark((function e(){var t,r,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=je.getState().auth_reducer.token.token,r=je.getState().auth_reducer.token.depot_id,e.prev=2,e.next=5,fetch("https://opl.azurewebsites.net/depots/".concat(r,"/products/"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(t)}});case 5:return n=e.sent,e.next=8,n.json();case 8:return a=e.sent,n=null,e.abrupt("return",a);case 13:throw e.prev=13,e.t0=e.catch(2),console.log(e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function fe(){return _e.apply(this,arguments)}function _e(){return(_e=Object(j.a)(m.a.mark((function e(){var t,r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=je.getState().auth_reducer.token.token,e.prev=1,e.next=4,fetch("https://opl.azurewebsites.net/orders/",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(t)}});case 4:return r=e.sent,e.next=7,r.json();case 7:return n=e.sent,r=null,e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e.catch(1),console.log(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function ve(){return ye.apply(this,arguments)}function ye(){return(ye=Object(j.a)(m.a.mark((function e(){var t,r,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=je.getState().auth_reducer.token.token,r=je.getState().auth_reducer.token.depot_id,e.prev=2,e.next=5,fetch("https://opl.azurewebsites.net/depots/".concat(r,"/bi/"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(t)}});case 5:return n=e.sent,e.next=8,n.json();case 8:return a=e.sent,n=null,e.abrupt("return",a);case 13:throw e.prev=13,e.t0=e.catch(2),console.log(e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function ge(){return Se.apply(this,arguments)}function Se(){return(Se=Object(j.a)(m.a.mark((function e(){var t,r,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=je.getState().auth_reducer.token.token,r=je.getState().auth_reducer.token.depot_id,e.prev=2,e.next=5,fetch("https://opl.azurewebsites.net/depots/".concat(r,"/product_bi/"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(t)}});case 5:return n=e.sent,e.next=8,n.json();case 8:return a=e.sent,n=null,e.abrupt("return",a);case 13:throw e.prev=13,e.t0=e.catch(2),console.log(e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function Ce(){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(j.a)(m.a.mark((function e(){var t,r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=je.getState().auth_reducer.token.token,e.prev=1,e.next=4,fetch("https://opl.azurewebsites.net/orders/customer_bi/",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(t)}});case 4:return r=e.sent,e.next=7,r.json();case 7:return n=e.sent,r=null,e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e.catch(1),console.log(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function ke(e,t){return Te.apply(this,arguments)}function Te(){return(Te=Object(j.a)(m.a.mark((function e(t,r){var n,a,s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=je.getState().auth_reducer.token.token,a=je.getState().auth_reducer.token.depot_id,e.prev=2,e.next=5,fetch("https://opl.azurewebsites.net/customers/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(n)},body:JSON.stringify({depot:parseInt(a),name:t,location:r})});case 5:return s=e.sent,e.next=8,s.json();case 8:return c=e.sent,s=null,e.abrupt("return",c);case 13:throw e.prev=13,e.t0=e.catch(2),console.log(e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function we(e,t,r){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(j.a)(m.a.mark((function e(t,r,n){var a,s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=je.getState().auth_reducer.token.token,e.prev=1,e.next=4,fetch("https://opl.azurewebsites.net/customers/trucks/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(a)},body:JSON.stringify({customer:t,plate_no:r,driver:n})});case 4:return s=e.sent,e.next=7,s.json();case 7:return c=e.sent,s=null,e.abrupt("return",c);case 12:throw e.prev=12,e.t0=e.catch(1),console.log(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Ee(e,t,r,n,a,s,c,o){return De.apply(this,arguments)}function De(){return(De=Object(j.a)(m.a.mark((function e(t,r,n,a,s,c,o,i){var l,u,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=je.getState().auth_reducer.token.token,e.prev=1,e.next=4,fetch("https://opl.azurewebsites.net/orders/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(l)},body:JSON.stringify({product:[t],truck:r,entry_no:n,order_no:a,date:s,vol_obs:c,vol_20:o,selling_price:i})});case 4:return u=e.sent,e.next=7,u.json();case 7:return d=e.sent,u=null,e.abrupt("return",d);case 12:throw e.prev=12,e.t0=e.catch(1),console.log(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Ae(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(j.a)(m.a.mark((function e(t){var r,n,a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=je.getState().auth_reducer.token.depot_id,e.prev=1,(n=new FormData).append("file",t),e.next=6,fetch("https://opl.azurewebsites.net/depots/".concat(r,"/upload_excel/"),{method:"POST",headers:{},body:n});case 6:return a=e.sent,e.next=9,a.json();case 9:return s=e.sent,a=null,e.abrupt("return",s);case 14:throw e.prev=14,e.t0=e.catch(1),console.log(e.t0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}function ze(e,t,r,n,a,s,c,o,i){return Le.apply(this,arguments)}function Le(){return(Le=Object(j.a)(m.a.mark((function e(t,r,n,a,s,c,o,i,l){var u,d,p;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=je.getState().auth_reducer.token.token,e.prev=1,e.next=4,fetch("https://opl.azurewebsites.net/orders/update/".concat(t,"/"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(u)},body:JSON.stringify({product:r,truck:n,entry_no:a,order_no:s,date:c,vol_obs:o,vol_20:i,selling_price:l})});case 4:return d=e.sent,e.next=7,d.json();case 7:return p=e.sent,d=null,e.abrupt("return",p);case 12:throw e.prev=12,e.t0=e.catch(1),console.log(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Fe(e,t){return Me.apply(this,arguments)}function Me(){return(Me=Object(j.a)(m.a.mark((function e(t,r){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=je.getState().auth_reducer.token.token,e.prev=1,e.next=4,fetch("https://opl.azurewebsites.net/orders/update/".concat(t,"/"),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(n)}});case 4:return e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e.catch(1),console.log(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}var Pe=function(){return function(){var e=Object(j.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be().then((function(e){t({type:L,payload:e})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ue=function(){return function(){var e=Object(j.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe().then((function(e){t({type:J,payload:e})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ge=function(e){return function(t){t({type:K,payload:e})}},We=function(){return function(){var e=Object(j.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve().then((function(e){t({type:X,payload:e})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Be=function(){return function(){var e=Object(j.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge().then((function(e){t({type:$,payload:e})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ye=function(){return function(){var e=Object(j.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce().then((function(e){t({type:H,payload:e})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Je=(r(278),r(1)),Ve=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={spinner:!1,redirect:!1,email:"",password:"",show_error:!1,null_error:!1},e.componentWillReceiveProps=function(){var t=Object(j.a)(m.a.mark((function t(r){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.error&&e.setState({show_error:!0}),!r.token){t.next=20;break}if(201!==r.token.status_code){t.next=18;break}return t.next=5,e.props.CUSTOMER_LIST_ACTION();case 5:return t.next=7,e.props.PRODUCT_LIST_ACTION();case 7:return t.next=9,e.props.BI_LIST_ACTION();case 9:return t.next=11,e.props.PRODUCT_BI_LIST_ACTION();case 11:return t.next=13,e.props.ENTRY_LIST_ACTION();case 13:return t.next=15,e.props.CUSTOMER_BI_LIST_ACTION();case 15:return t.next=17,e.props.PRODUCT_INDEX_ACTION(0);case 17:e.setState({spinner:!1,redirect:!0,email:"",password:""});case 18:t.next=21;break;case 20:e.setState({spinner:!1});case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSubmit=function(){var t=Object(j.a)(m.a.mark((function t(r){var n,a,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=e.state,a=n.email,s=n.password,""!==a&&""!==s){t.next=6;break}e.setState({null_error:!0}),t.next=9;break;case 6:return e.setState({spinner:!0}),t.next=9,e.props.GET_TOKEN_ACTION(a,s);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentWillMount=Object(j.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.GET_TOKEN_ERROR_REMOVE_ACTION();case 2:e.setState({show_error:!1,null_error:!1});case 3:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return console.log(this.props.error),this.state.redirect?Object(Je.jsx)(h.a,{to:"/"}):Object(Je.jsx)(O.a,{children:Object(Je.jsxs)(x.a,{className:"login-row",children:[this.state.spinner?Object(Je.jsx)("div",{className:"spinner",children:Object(Je.jsx)(g.a,{ariaLabel:"Please wait as we log you in ...",color:"#00BFFF",height:100,width:100,timeout:4e3,visible:this.state.spinner})}):null,Object(Je.jsx)(f.a,{className:"logo-col",children:Object(Je.jsx)("img",{src:"https://opl.azurewebsites.net/static/opl_logo.png",alt:"logo"})}),Object(Je.jsxs)(f.a,{xs:7,className:"form-col",children:[Object(Je.jsxs)("div",{className:"title-div",children:[Object(Je.jsx)("h3",{children:"Sign in To The Dashboard"}),Object(Je.jsx)("p",{children:"Enter your email and password to sign in."})]}),this.state.null_error?Object(Je.jsx)(_.a,{variant:"danger",children:"The fields should not be empty"}):null,this.props.error&&this.state.show_error?Object.keys(this.props.error).map((function(t,r){return Object(Je.jsxs)(_.a,{variant:"danger",children:[t,": ",e.props.error[t][0]]},r)})):null,Object(Je.jsxs)(v.a,{onSubmit:this.onSubmit,children:[Object(Je.jsx)(v.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:Object(Je.jsx)(v.a.Control,{type:"text",placeholder:"Enter email",className:"input",onChange:function(t){return e.setState({email:t.target.value,show_error:!1,null_error:!1})}})}),Object(Je.jsx)(v.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:Object(Je.jsx)(v.a.Control,{type:"password",placeholder:"Password",className:"input",onChange:function(t){return e.setState({password:t.target.value,show_error:!1,null_error:!1})}})}),Object(Je.jsx)(y.a,{variant:"primary",type:"submit",className:"submit",children:"Submit"})]})]})]})})}}]),r}(n.Component),Ke={GET_TOKEN_ACTION:function(e,t){return function(){var r=Object(j.a)(m.a.mark((function r(n){return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,S(e,t).then((function(e){if(console.log(e),void 0!==e.token)n({type:E,payload:e});else try{var t=e.non_field_errors;n({type:D,payload:{"":t}})}catch(r){n({type:D,payload:e})}})).catch((function(e){console.log(e)}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},CUSTOMER_LIST_ACTION:Pe,PRODUCT_LIST_ACTION:function(){return function(){var e=Object(j.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe().then((function(e){t({type:V,payload:e})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},BI_LIST_ACTION:We,PRODUCT_BI_LIST_ACTION:Be,ENTRY_LIST_ACTION:Ue,CUSTOMER_BI_LIST_ACTION:Ye,PRODUCT_INDEX_ACTION:Ge,GET_TOKEN_ERROR_REMOVE_ACTION:function(){return function(e){e({type:A,payload:null})}}},Xe=Object(o.b)((function(e){return{token:e.auth_reducer.token,error:e.auth_reducer.login_error?e.auth_reducer.login_error:null}}),Ke)(Ve),$e=r(21),He=(r(158),function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return Object(Je.jsxs)("div",{className:"header",children:[Object(Je.jsx)("h5",{children:this.props.headerTitle}),Object(Je.jsxs)("div",{className:"left",children:[Object(Je.jsxs)(y.a,{variant:"secondary",size:"sm",children:[this.props.first_name[0],this.props.last_name[0]]}),Object(Je.jsxs)("p",{className:"header-name",children:[this.props.first_name," ",this.props.last_name]})]})]})}}]),r}(a.a.Component)),qe=He,Qe=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={dashboard:"success",products:"transparent",orders:"transparent",customers:"transparent",redirect:!1},e.handleClick=function(t){var r=["dashboard","products","orders","customers"].filter((function(e,r,n){return e!==t}));e.setState({btn:"success"}),r.map((function(t){e.setState({link:"transparent"})}))},e.handleLogOut=function(){e.props.USER_LOGGED_OUT_ACTION(),e.setState({redirect:!0})},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.state;e.dashboard,e.products,e.orders,e.customers;return console.log(this.props.token),this.state.redirect?Object(Je.jsx)(h.a,{to:"/login"}):Object(Je.jsxs)(O.a,{fluid:!0,className:"main",children:[Object(Je.jsxs)("div",{className:"side",children:[Object(Je.jsx)(p.b,{to:"/",className:"logo",children:Object(Je.jsx)("img",{src:"https://opl.azurewebsites.net/static/opl_logo.png"})}),Object(Je.jsxs)("div",{className:"links",children:[Object(Je.jsx)(p.c,{to:"/",exact:!0,className:"button",children:Object(Je.jsxs)("h6",{children:[Object(Je.jsx)("span",{children:Object(Je.jsx)($e.c,{size:20,color:"#D04D30"})}),"Dashboard"]})}),Object(Je.jsx)(p.c,{to:"/products",className:"button",children:Object(Je.jsxs)("h6",{children:[Object(Je.jsx)("span",{children:Object(Je.jsx)($e.h,{})}),"Products"]})}),Object(Je.jsx)(p.c,{to:"/orders",className:"button",children:Object(Je.jsxs)("h6",{children:[Object(Je.jsx)("span",{children:Object(Je.jsx)($e.j,{})}),"Orders"]})}),Object(Je.jsx)(p.c,{to:"/customers",className:"button",children:Object(Je.jsxs)("h6",{children:[Object(Je.jsx)("span",{children:Object(Je.jsx)($e.l,{})}),"Customers"]})}),Object(Je.jsx)(y.a,{variant:"transparent",className:"button logout",onClick:this.handleLogOut,children:Object(Je.jsxs)("h6",{children:[Object(Je.jsx)("span",{children:Object(Je.jsx)($e.g,{})}),"Log Out"]})})]})]}),Object(Je.jsxs)("div",{className:"component",children:[this.props.token?Object(Je.jsx)(qe,{headerTitle:this.props.headerTitle,first_name:this.props.token.data.first_name,last_name:this.props.token.data.last_name}):Object(Je.jsx)(qe,{headerTitle:this.props.headerTitle,first_name:"Hashim",last_name:"Athman"}),this.props.children]})]})}}]),r}(a.a.Component),Ze={USER_LOGGED_OUT_ACTION:function(){return function(e){e({type:Z,payload:null})}}},et=Object(o.b)((function(e){return{token:e.auth_reducer.token}}),Ze)(Qe),tt=r(27),rt=r.n(tt),nt=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.data.products,t=[];try{for(var r=0;r<e.length;r++)t=t.concat({name:e[r].name,data:e[r].values});n.setState({series:t})}catch(a){}},n.state={series:[],options:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},title:{text:"Products Trends by Months",align:"left"},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:n.props.data.months},yaxis:{title:{text:"$ (Millions)"}},fill:{opacity:1},tooltip:{y:{formatter:function(e){return"$ "+e+" Millions"}}}}},n}return Object(l.a)(r,[{key:"render",value:function(){return Object(Je.jsx)("div",{id:"chart",children:Object(Je.jsx)(rt.a,{options:this.state.options,series:this.state.series,type:"bar",height:350})})}}]),r}(a.a.Component),at=(a.a.Component,function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.data.products,t=[];try{for(var r=0;r<e.length;r++)t=t.concat({name:e[r].name,data:e[r].orders});n.setState({series:t})}catch(a){}},n.state={series:[],options:{chart:{type:"bar",height:430},plotOptions:{bar:{horizontal:!0,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,offsetX:-6,style:{fontSize:"10px",colors:["black"]}},title:{text:"Daily Orders",align:"left"},stroke:{show:!0,width:1,colors:["#fff"]},tooltip:{shared:!0,intersect:!1},xaxis:{type:"date",categories:n.props.data.dates?n.props.data.dates:[]}}},n}return Object(l.a)(r,[{key:"render",value:function(){return Object(Je.jsx)("div",{className:"chart-area",children:Object(Je.jsx)("div",{id:"chart",children:Object(Je.jsx)(rt.a,{options:this.state.options,series:this.state.series,type:"bar",height:350})})})}}]),r}(a.a.Component)),st=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.data.products,t=[];try{for(var r=0;r<e.length;r++)t=t.concat({name:e[r].name,data:e[r].values});n.setState({series:t})}catch(a){}},n.state={series:[],options:{chart:{height:350,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"straight"},title:{text:"Revenue by Day",align:"left"},xaxis:{type:"date",categories:n.props.data.dates?n.props.data.dates:[]},yaxis:{title:{text:"$ (Millions)"}},tooltip:{x:{format:"dd/MM/yy"}}}},n}return Object(l.a)(r,[{key:"render",value:function(){return Object(Je.jsx)("div",{className:"chart-area",children:Object(Je.jsx)("div",{id:"chart",children:Object(Je.jsx)(rt.a,{options:this.state.options,series:this.state.series,type:"area",height:350})})})}}]),r}(a.a.Component),ct=Object(o.b)((function(e){return{bi:e.list_reducer.bi_list?e.list_reducer.bi_list:{}}}),{})(st),ot=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).componentDidMount=Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),n.my_ref=a.a.createRef(),n.state={data:{}},n}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props.bi_list.daily_products_comp,t=this.props.bi_list.months;return Object(Je.jsxs)("div",{className:"charts-section",children:[Object(Je.jsxs)(x.a,{children:[Object(Je.jsx)(f.a,{xs:7,children:Object(Je.jsx)(ct,{data:e})}),Object(Je.jsx)(f.a,{children:Object(Je.jsx)(at,{data:e})})]}),Object(Je.jsx)(x.a,{children:Object(Je.jsx)(f.a,{children:Object(Je.jsx)("div",{className:"chart-area",children:Object(Je.jsx)(nt,{data:t})})})})]})}}]),r}(a.a.Component),it=(r(55),function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).numberWithCommas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return Object(Je.jsxs)("div",{children:[Object(Je.jsxs)("div",{className:"customer-top",children:[Object(Je.jsx)("h6",{children:"Top Customers This Month"}),Object(Je.jsxs)("div",{className:"legends",children:[Object(Je.jsx)("div",{className:"legend-item"}),Object(Je.jsx)("div",{className:"legend-item"})]})]}),Object(Je.jsx)(x.a,{className:"customer-row",children:this.props.data.map((function(t,r){return Object(Je.jsx)(f.a,{xs:3,children:Object(Je.jsxs)("div",{className:"customer",children:[Object(Je.jsx)("div",{className:"customer-total",children:Object(Je.jsxs)("h5",{className:"customer-amount",children:["Kshs. ",e.numberWithCommas(t.amount)]})}),Object(Je.jsxs)("div",{className:"customer-info",children:[Object(Je.jsx)("div",{className:"customer-profile",children:t.increase?Object(Je.jsx)($e.o,{size:30,color:"green"}):Object(Je.jsx)($e.n,{size:30,color:"red"})}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("h6",{className:"customer-name",children:t.name}),Object(Je.jsx)("p",{className:"customer-location",children:t.location})]})]})]})},r)}))})]})}}]),r}(a.a.Component)),lt=it,ut=r(41),dt=r(79),pt=r(148),ht=(r(299),r(300),r(301),function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={product:null,truck:null,entry_no:"",order_no:"",date:new Date,vol_obs:null,vol_20:null,selling_price:null,trucks:[],spinner:!1,success:!1,null_error:!1},e.customerSelect=function(t){var r=e.props.customers[t];e.setState({trucks:e.state.trucks.concat(r.trucks)})},e.componentWillReceiveProps=function(){var t=Object(j.a)(m.a.mark((function t(r){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.created_entry.entry_no===e.state.entry_no?e.setState({spinner:!1,success:!0}):e.setState({spinner:!1});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSubmit=function(){var t=Object(j.a)(m.a.mark((function t(r){var n,a,s,c,o,i,l,u,d,p,h,j;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r.preventDefault(),n=e.state,a=n.product,s=n.truck,c=n.entry_no,o=n.order_no,i=n.date,l=n.vol_obs,u=n.vol_20,d=n.selling_price,p=[a,s,c,o,i,l,u,d],h=!1,j=0;j<p.length;j++)null!==p[j]&&""!==p[j]&&void 0!==p[j]||(h=!0);if(!h){t.next=9;break}e.setState({null_error:!0}),t.next=12;break;case 9:return e.setState({spinner:!0}),t.next=12,e.props.CREATE_ENTRY_ACTION(a,s,c,o,i,l,u,d);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(r,[{key:"render",value:function(){var e=this,t=this.state,r=t.date,n=t.trucks,a=this.props,s=a.products,c=a.customers;return Object(Je.jsxs)("div",{className:"upload-form",children:[this.state.spinner?Object(Je.jsx)("div",{className:"spinner",children:Object(Je.jsx)(g.a,{color:"#00BFFF",height:100,width:100,timeout:4e3,visible:this.state.spinner})}):null,Object(Je.jsx)("h4",{className:"upload-title",children:"Fill the information"}),this.state.success?Object(Je.jsx)(_.a,{variant:"success",size:"sm",children:"Entry Created successful"}):null,this.state.null_error?Object(Je.jsx)(_.a,{variant:"danger",size:"sm",children:"All the fields must be field"}):null,this.state.show_errors?Object.keys(this.props.error).map((function(t,r){return Object(Je.jsxs)(_.a,{variant:"danger",children:[t,": ",e.props.create_customer_error[t][0]]},r)})):null,Object(Je.jsxs)(v.a,{onSubmit:this.onSubmit,children:[Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Date"}),Object(Je.jsx)(v.a.Control,{type:"date",placeholder:"Date",size:"sm",value:r,onChange:function(t){return e.setState({date:t.target.value})}})]}),Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Product"}),Object(Je.jsxs)(v.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.setState({product:t.target.value})},children:[Object(Je.jsx)("option",{children:"Select"}),s.map((function(e){return Object(Je.jsx)("option",{value:e.id,children:e.name})}))]})]}),Object(Je.jsxs)(x.a,{style:{marginTop:0,height:"auto"},children:[Object(Je.jsx)(f.a,{children:Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Customer"}),Object(Je.jsxs)(v.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.customerSelect(t.target.value)},children:[Object(Je.jsx)("option",{children:"Select"}),c.map((function(e,t){return Object(Je.jsx)("option",{value:t,children:e.name})}))]})]})}),Object(Je.jsx)(f.a,{children:Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Truck"}),Object(Je.jsxs)(v.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.setState({truck:t.target.value})},children:[Object(Je.jsx)("option",{children:"Select"}),n.map((function(e){return Object(Je.jsx)("option",{value:e.id,children:e.plate_no})}))]})]})})]}),Object(Je.jsx)("h6",{className:"upload-form-details",children:"Details"}),Object(Je.jsxs)(x.a,{style:{marginTop:0,height:"auto"},children:[Object(Je.jsx)(f.a,{children:Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Order No"}),Object(Je.jsx)(v.a.Control,{type:"text",placeholder:"Order No",size:"sm",onChange:function(t){return e.setState({order_no:t.target.value})}})]})}),Object(Je.jsx)(f.a,{children:Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Entry no"}),Object(Je.jsx)(v.a.Control,{type:"text",placeholder:"Order No",size:"sm",onChange:function(t){return e.setState({entry_no:t.target.value})}})]})})]}),Object(Je.jsxs)(x.a,{style:{marginTop:0,height:"auto"},children:[Object(Je.jsx)(f.a,{children:Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Vol OBS"}),Object(Je.jsx)(v.a.Control,{type:"text",placeholder:"Order No",size:"sm",onChange:function(t){return e.setState({vol_obs:t.target.value})}})]})}),Object(Je.jsx)(f.a,{children:Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Vol@20"}),Object(Je.jsx)(v.a.Control,{type:"text",placeholder:"Order No",size:"sm",onChange:function(t){return e.setState({vol_20:t.target.value})}})]})})]}),Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Selling Price"}),Object(Je.jsx)(v.a.Control,{type:"text",placeholder:"Order No",size:"sm",onChange:function(t){return e.setState({selling_price:t.target.value})}})]}),Object(Je.jsx)("div",{align:"center",children:Object(Je.jsx)(y.a,{variant:"primary",type:"submit",children:"Upload"})})]})]})}}]),r}(a.a.Component)),jt={CREATE_ENTRY_ACTION:function(e,t,r,n,a,s,c,o){return function(){var i=Object(j.a)(m.a.mark((function i(l){return m.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ee(e,t,r,n,a,s,c,o).then((function(e){if(e.entry_no===r)l({type:P,payload:e});else try{var t=e.non_field_errors;l({type:U,payload:{"":t}})}catch(n){l({type:U,payload:e})}})).catch((function(e){console.log(e)}));case 2:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()}},bt=Object(o.b)((function(e){return{created_entry:e.create_reducer.created_entry,error:e.create_reducer.create_entry_error?e.create_reducer.create_entry_error:null,customers:e.list_reducer.customers?e.list_reducer.customers:[],products:e.list_reducer.products?e.list_reducer.products:[]}}),jt)(ht),mt=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={name:"",location:"",spinner:!1,success:!1,null_error:!1,show_errors:!1},e.componentWillReceiveProps=function(){var t=Object(j.a)(m.a.mark((function t(r){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.create_customer_error){t.next=4;break}e.setState({show_errors:!0,spinner:!1}),t.next=11;break;case 4:if(r.created_customer.name!==e.state.name){t.next=10;break}return t.next=7,e.props.CUSTOMER_LIST_ACTION();case 7:e.setState({spinner:!1,success:!0,name:"",location:""}),t.next=11;break;case 10:e.setState({spinner:!1});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSubmit=function(){var t=Object(j.a)(m.a.mark((function t(r){var n,a,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=e.state,a=n.name,s=n.location,""!==a&&""!==s){t.next=6;break}e.setState({null_error:!0}),t.next=9;break;case 6:return e.setState({spinner:!0}),t.next=9,e.props.CREATE_CUSTOMER_ACTION(a,s);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return Object(Je.jsxs)("div",{className:"upload-form",children:[this.state.spinner?Object(Je.jsx)("div",{className:"spinner",children:Object(Je.jsx)(g.a,{color:"#00BFFF",height:100,width:100,timeout:4e3,visible:this.state.spinner})}):null,Object(Je.jsx)("h4",{children:"Customer information"}),this.state.success?Object(Je.jsx)(_.a,{variant:"success",size:"sm",children:"Customer created successful"}):null,this.state.null_error?Object(Je.jsx)(_.a,{variant:"danger",size:"sm",children:"The fields cannot be empty"}):null,this.state.show_errors?Object.keys(this.props.error).map((function(t,r){return Object(Je.jsxs)(_.a,{variant:"danger",children:[t,": ",e.props.create_customer_error[t][0]]},r)})):null,Object(Je.jsxs)(v.a,{onSubmit:this.onSubmit,children:[Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Customer name"}),Object(Je.jsx)(v.a.Control,{type:"text",placeholder:"Name",size:"sm",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value,success:!1,null_error:!1,show_errors:!1})}})]}),Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Location"}),Object(Je.jsx)(v.a.Control,{type:"text",placeholder:"Name",size:"sm",value:this.state.location,onChange:function(t){return e.setState({location:t.target.value,success:!1,null_error:!1,show_errors:!1})}})]}),Object(Je.jsx)("div",{children:Object(Je.jsx)(y.a,{variant:"primary",type:"submit",size:"sm",children:"Add"})})]})]})}}]),r}(a.a.Component),Ot={CREATE_CUSTOMER_ACTION:function(e,t){return function(){var r=Object(j.a)(m.a.mark((function r(n){return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ke(e,t).then((function(t){if(t.name===e)n({type:R,payload:t});else try{var r=t.non_field_errors;n({type:z,payload:{"":r}})}catch(a){n({type:z,payload:t})}})).catch((function(e){console.log(e)}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},CUSTOMER_LIST_ACTION:Pe},xt=Object(o.b)((function(e){return{created_customer:e.create_reducer.created_customer,error:e.create_reducer.create_customer_error?e.create_reducer.create_customer_error:null}}),Ot)(mt),ft=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={customer:null,plate_no:"",driver:"",spinner:!1,success:!1},e.componentWillReceiveProps=function(){var t=Object(j.a)(m.a.mark((function t(r){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.created_truck.plate_no!==e.state.plate_no){t.next=6;break}return t.next=3,e.props.CUSTOMER_LIST_ACTION();case 3:e.setState({spinner:!1,success:!0,plate_no:"",driver:""}),t.next=7;break;case 6:e.setState({spinner:!1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSubmit=function(){var t=Object(j.a)(m.a.mark((function t(r){var n,a,s,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),n=e.state,a=n.customer,s=n.plate_no,c=n.driver,e.setState({spinner:!0}),t.next=5,e.props.CREATE_TRUCK_ACTION(a,s,c);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return Object(Je.jsxs)("div",{className:"upload-form",children:[this.state.spinner?Object(Je.jsx)("div",{className:"spinner",children:Object(Je.jsx)(g.a,{color:"#00BFFF",height:100,width:100,timeout:4e3,visible:this.state.spinner})}):null,Object(Je.jsx)("h4",{children:"Truck information"}),this.state.success?Object(Je.jsx)(_.a,{variant:"success",size:"sm",children:"Truck created successful"}):null,Object(Je.jsxs)(v.a,{onSubmit:this.onSubmit,children:[Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Customer"}),Object(Je.jsxs)(v.a.Select,{"aria-label":"Customers",size:"sm",onChange:function(t){return e.setState({customer:t.target.value,success:!1})},children:[Object(Je.jsx)("option",{children:"Select"}),this.props.customers.map((function(e){return Object(Je.jsx)("option",{value:e.id,children:e.name})}))]})]}),Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Truck Number"}),Object(Je.jsx)(v.a.Control,{type:"text",placeholder:"Truck no",size:"sm",value:this.state.plate_no,onChange:function(t){return e.setState({plate_no:t.target.value,success:!1})}})]}),Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Driver Name"}),Object(Je.jsx)(v.a.Control,{type:"text",placeholder:"Driver name",size:"sm",value:this.state.driver,onChange:function(t){return e.setState({driver:t.target.value,success:!1})}})]}),Object(Je.jsx)("div",{children:Object(Je.jsx)(y.a,{variant:"primary",type:"submit",size:"sm",children:"Add"})})]})]})}}]),r}(a.a.Component),_t={CREATE_TRUCK_ACTION:function(e,t,r){return function(){var n=Object(j.a)(m.a.mark((function n(a){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,we(e,t,r).then((function(e){e.plate_no===t?a({type:F,payload:e}):a({type:M,payload:e})})).catch((function(e){console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},CUSTOMER_LIST_ACTION:Pe},vt=(Object(o.b)((function(e){return{created_truck:e.create_reducer.created_truck,customers:e.list_reducer.customers?e.list_reducer.customers:[]}}),_t)(ft),function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={file:null,spinner:!1,success:!1,show_error:!1,null_error:!1},e.componentWillReceiveProps=function(){var t=Object(j.a)(m.a.mark((function t(r){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.upload_excel_error?e.setState({show_error:!0,spinner:!1}):e.setState({spinner:!1,success:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSubmit=function(){var t=Object(j.a)(m.a.mark((function t(r){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),null!==(n=e.state.file)){t.next=6;break}e.setState({null_error:!0}),t.next=9;break;case 6:return e.setState({spinner:!0}),t.next=9,e.props.UPLOAD_EXCEL_ACTION(n);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return Object(Je.jsxs)("div",{className:"upload-form",children:[this.state.spinner?Object(Je.jsx)("div",{className:"spinner",children:Object(Je.jsx)(g.a,{color:"#00BFFF",height:100,width:100,timeout:4e3,visible:this.state.spinner})}):null,Object(Je.jsx)("h5",{children:"Upload File"}),this.state.success?Object(Je.jsx)(_.a,{variant:"success",size:"sm",children:"File Uploaded successful"}):null,this.state.show_error?Object(Je.jsx)(_.a,{variant:"danger",size:"sm",children:this.props.upload_excel_error.message}):null,this.state.null_error?Object(Je.jsx)(_.a,{variant:"danger",size:"sm",children:"You must select an excel file!"}):null,Object(Je.jsxs)(v.a,{onSubmit:this.onSubmit,children:[Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"File"}),Object(Je.jsx)(v.a.Control,{type:"file",accept:".xlsx, .xls, .csv",placeholder:"File",size:"sm",onChange:function(t){return e.setState({file:t.target.files[0]})}})]}),Object(Je.jsx)("div",{children:Object(Je.jsx)(y.a,{variant:"primary",type:"submit",value:this.state.file,size:"sm",children:"Upload"})})]})]})}}]),r}(a.a.Component)),yt={UPLOAD_EXCEL_ACTION:function(e){return function(){var t=Object(j.a)(m.a.mark((function t(r){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ae(e).then((function(e){"success"===e.status?r({type:ee,payload:e}):r({type:te,payload:e})})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},gt=Object(o.b)((function(e){return{uploaded_excel:e.create_reducer.uploaded_excel,upload_excel_error:e.create_reducer.upload_excel_error}}),yt)(vt),St=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={startDate:new Date,endDate:new Date,key:"selection"},e.handleSelect=function(t){e.setState({startDate:t.selection.startDate,endDate:t.selection.endDate})},e}return Object(l.a)(r,[{key:"render",value:function(){return Object(Je.jsx)("div",{className:"inputs",children:Object(Je.jsxs)("div",{className:"buttons",children:[Object(Je.jsx)(ut.a,{trigger:Object(Je.jsx)(y.a,{className:"input-dates",size:"sm",children:Object(Je.jsxs)("div",{className:"input-display",children:[Object(Je.jsx)("span",{children:Object(Je.jsx)($e.a,{color:"#D04D30",size:18})}),this.state.startDate.toDateString()," - ",this.state.endDate.toDateString(),Object(Je.jsx)("span",{})]})}),position:"bottom"}),Object(Je.jsxs)("div",{className:"form",children:[Object(Je.jsxs)(y.a,{variant:"secondary",size:"sm",className:"add-button",style:{color:"black"},onClick:function(){return window.open("https://opl.azurewebsites.net/depots/download/","_blank")},children:[Object(Je.jsx)($e.b,{color:"green",size:20}),"Template"]}),Object(Je.jsx)(ut.a,{contentStyle:{width:300},trigger:Object(Je.jsxs)(y.a,{variant:"secondary",size:"sm",className:"add-button",style:{color:"black"},children:[Object(Je.jsx)(dt.a,{color:"green",size:20}),"Upload"]}),position:"bottom center",children:Object(Je.jsx)(gt,{})}),Object(Je.jsx)(ut.a,{contentStyle:{width:300},trigger:Object(Je.jsxs)(y.a,{variant:"info",size:"sm",className:"add-button",children:[Object(Je.jsx)($e.i,{color:"#e9e7ec",size:20}),"Customer"]}),position:"bottom center",children:Object(Je.jsx)(xt,{})}),Object(Je.jsx)(ut.a,{contentStyle:{width:500,minHeight:400},trigger:Object(Je.jsxs)(y.a,{variant:"primary",size:"sm",className:"add-button",children:[Object(Je.jsx)($e.i,{color:"#e9e7ec",size:20}),"Add Order"]}),position:"left top",children:Object(Je.jsx)(bt,{})})]})]})})}}]),r}(a.a.Component),Ct=St,Nt=r(244),kt=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).numberWithCommas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},e}return Object(l.a)(r,[{key:"render",value:function(){return Object(Je.jsxs)(x.a,{children:[Object(Je.jsx)(f.a,{children:Object(Je.jsxs)("div",{className:"tab",children:[Object(Je.jsx)("div",{className:"icon",children:Object(Je.jsx)(Nt.a,{size:30,color:"#866365"})}),Object(Je.jsxs)("div",{className:"tab-text",children:[Object(Je.jsx)("p",{className:"tab-title",children:"Total Revenue"}),Object(Je.jsxs)("h5",{className:"tab-amount",children:["Kshs. ",this.numberWithCommas(this.props.total_earns)]})]})]})}),Object(Je.jsx)(f.a,{children:Object(Je.jsxs)("div",{className:"tab",children:[Object(Je.jsx)("div",{className:"icon",children:Object(Je.jsx)($e.j,{size:30,color:"green"})}),Object(Je.jsxs)("div",{className:"tab-text",children:[Object(Je.jsx)("p",{className:"tab-title",children:"Total Orders"}),Object(Je.jsx)("h5",{className:"tab-amount",children:this.props.total_orders})]})]})}),Object(Je.jsx)(f.a,{children:Object(Je.jsxs)("div",{className:"tab",children:[Object(Je.jsx)("div",{className:"icon",children:Object(Je.jsx)($e.m,{size:30,color:"#304577"})}),Object(Je.jsxs)("div",{className:"tab-text",children:[Object(Je.jsx)("p",{className:"tab-title",children:"Total Customers"}),Object(Je.jsx)("h5",{className:"tab-amount",children:this.props.total_customers})]})]})})]})}}]),r}(a.a.Component),Tt=kt,wt=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={redirect:!1,spinner:!1,didnt_load:!1},e.componentWillReceiveProps=function(t){e.props.bi_list.daily_products_comp.total_earns?e.setState({spinner:!1,didnt_load:!1}):e.setState({spinner:!1,didnt_load:!0})},e.componentWillMount=Object(j.a)(m.a.mark((function t(){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(r=e.props.token)&&""!==r){t.next=5;break}e.setState({redirect:!0}),t.next=8;break;case 5:return e.setState({spinner:!0}),t.next=8,e.props.BI_LIST_ACTION();case 8:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(r,[{key:"render",value:function(){return this.state.redirect?Object(Je.jsx)(h.a,{to:"/login"}):Object(Je.jsxs)(et,{headerTitle:"Dashboard",children:[Object(Je.jsx)(Ct,{}),this.state.didnt_load?Object(Je.jsx)("div",{children:Object(Je.jsx)(_.a,{variant:"info",size:"sm",children:"Nothing to show now. Until data is uploaded"})}):Object(Je.jsx)("div",{children:this.state.spinner?Object(Je.jsx)("div",{className:"spinner",children:Object(Je.jsx)(g.a,{color:"#00BFFF",height:100,width:100,timeout:4e3,visible:this.state.spinner})}):Object(Je.jsxs)("div",{children:[Object(Je.jsx)(Tt,{total_earns:this.props.bi_list.daily_products_comp.total_earns,total_orders:this.props.bi_list.daily_products_comp.total_orders,total_customers:this.props.bi_list.daily_products_comp.total_customers}),Object(Je.jsx)(ot,{bi_list:this.props.bi_list}),Object(Je.jsx)(lt,{data:this.props.bi_list.customers_month})]})})]})}}]),r}(a.a.Component),It={BI_LIST_ACTION:We},Et=Object(o.b)((function(e){return{token:e.auth_reducer.token,bi_list:e.list_reducer.bi_list?e.list_reducer.bi_list:{}}}),It)(wt),Dt=r(109),At=r.n(Dt),Rt=At.a.ExcelFile,zt=At.a.ExcelFile.ExcelSheet,Lt=At.a.ExcelFile.ExcelColumn,Ft=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return console.log(this.props.entries[0]),Object(Je.jsx)(Rt,{element:Object(Je.jsx)(y.a,{variant:"transparent",className:"exports",children:Object(Je.jsx)(dt.a,{size:25,color:"green"})}),children:Object(Je.jsxs)(zt,{data:this.props.entries,name:"Employees",children:[Object(Je.jsx)(Lt,{label:"Date",value:"date"}),Object(Je.jsx)(Lt,{label:"Order No",value:"order_no"}),Object(Je.jsx)(Lt,{label:"Entry No",value:"entry_no"}),Object(Je.jsx)(Lt,{label:"S.Price",value:"selling_price"}),Object(Je.jsx)(Lt,{label:"OBS Vol",value:"vol_obs"}),Object(Je.jsx)(Lt,{label:"Vol@20",value:"vol_20"}),Object(Je.jsx)(Lt,{label:"Amount",value:"amount"})]})})}}]),r}(a.a.Component),Mt=(r(146),function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={startDate:new Date(e.props.order_dates.start_date),endDate:new Date(e.props.order_dates.end_date),key:"selection",date:!0,cost:!1},e.componentWillReceiveProps=function(t){e.setState({startDate:new Date(t.order_dates.start_date),endDate:new Date(t.order_dates.end_date)})},e.handleSelect=function(){var t=Object(j.a)(m.a.mark((function t(r){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({startDate:r.selection.startDate,endDate:r.selection.endDate}),n={start_date:r.selection.startDate,end_date:r.selection.endDate},t.next=4,e.props.ORDER_DATES_ACTION(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.state.startDate,t=this.state.endDate;return Object(Je.jsx)("div",{children:Object(Je.jsx)("div",{className:"order-top",children:Object(Je.jsx)(ut.a,{trigger:Object(Je.jsx)(y.a,{className:"input-dates",size:"sm",children:Object(Je.jsxs)("div",{className:"input-display",children:[Object(Je.jsx)("span",{children:Object(Je.jsx)($e.a,{color:"#D04D30",size:18})}),e.toDateString()," - ",t.toDateString(),Object(Je.jsx)("span",{children:Object(Je.jsx)($e.f,{size:18})})]})}),position:"bottom",children:Object(Je.jsx)(pt.DateRangePicker,{onChange:this.handleSelect,showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:[this.state],direction:"horizontal",preventSnapRefocus:!0,calendarFocus:"backwards",className:"date-range"})})})})}}]),r}(a.a.Component)),Pt={ORDER_DATES_ACTION:function(e){return function(t){t({type:Q,payload:e})}}},Ut=Object(o.b)((function(e){var t={start_date:new Date(2022,1,20),end_date:new Date(2022,1,28)};return{order_dates:e.list_reducer.order_dates?e.list_reducer.order_dates:t,entries:e.list_reducer.entries?e.list_reducer.entries:[]}}),Pt)(Mt),Gt=r(432),Wt=r(243),Bt=r(429),Yt=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={date:e.props.order.date,product:e.props.order.product,product_id:e.props.order.product.id,truck:e.props.order.truck,truck_id:e.props.order.truck.id,customer:e.props.customers.filter((function(t){return t.name===e.props.order.truck.customer}))[0],customer_changed:!1,customers:e.props.customers.filter((function(t){return t.name!==e.props.order.truck.customer})),other_products:e.props.products.filter((function(t){return t.name!==e.props.order.product.name})),order_no:e.props.order.order_no,entry_no:e.props.order.entry_no?e.props.order.entry_no:"",vol_obs:e.props.order.vol_obs,vol_20:e.props.order.vol_20,selling_price:e.props.order.selling_price,spinner:!1,success:!1,null_error:!1,show_errors:!1},e.customerChange=function(t){e.setState({customer:e.props.customers.filter((function(e){return e.id===parseInt(t)}))[0],customer_changed:!0})},e.componentWillReceiveProps=function(){var t=Object(j.a)(m.a.mark((function t(r){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.updated_entry.entry_no!==e.state.entry_no){t.next=6;break}return t.next=3,e.props.ENTRY_LIST_ACTION();case 3:e.setState({spinner:!1,success:!0}),t.next=7;break;case 6:e.setState({spinner:!1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSubmit=function(){var t=Object(j.a)(m.a.mark((function t(r){var n,a,s,c,o,i,l,u,d,p,h,j;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r.preventDefault(),n=e.state,a=n.product,s=n.truck,c=n.entry_no,o=n.order_no,i=n.date,l=n.vol_obs,u=n.vol_20,d=n.selling_price,p=[a,s,c,o,i,l,u,d],h=!1,j=0;j<p.length;j++)null!==p[j]&&""!==p[j]&&void 0!==p[j]||(h=!0);h?e.setState({null_error:!0}):e.setState({spinner:!0});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(r,[{key:"render",value:function(){var e=this,t=this.state,r=t.date,n=t.customer_changed,a=t.customer,s=t.customers,c=t.truck,o=t.product,i=t.other_products,l=t.order_no,u=t.entry_no,d=t.vol_obs,p=t.vol_20,h=t.selling_price;return Object(Je.jsxs)("div",{className:"upload-form",children:[this.state.spinner?Object(Je.jsx)("div",{className:"spinner",children:Object(Je.jsx)(g.a,{color:"#00BFFF",height:100,width:100,timeout:4e3,visible:this.state.spinner})}):null,Object(Je.jsx)("h4",{className:"upload-title",children:"Fill the information"}),this.state.success?Object(Je.jsx)(_.a,{variant:"success",size:"sm",children:"Entry Updated Successful"}):null,this.state.null_error?Object(Je.jsx)(_.a,{variant:"danger",size:"sm",children:"All the fields must be field"}):null,this.state.show_errors?Object.keys(this.props.error).map((function(t,r){return Object(Je.jsxs)(_.a,{variant:"danger",children:[t,": ",e.props.create_customer_error[t][0]]},r)})):null,Object(Je.jsxs)(v.a,{onSubmit:this.onSubmit,children:[Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Date"}),Object(Je.jsx)(v.a.Control,{type:"date",placeholder:"Date",size:"sm",value:r,onChange:function(t){return e.setState({date:t.target.value})}})]}),Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Product"}),Object(Je.jsxs)(v.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.setState({product_id:t.target.value})},children:[Object(Je.jsx)("option",{children:o.name}),i.map((function(e,t){return Object(Je.jsx)("option",{value:e.id,children:e.name},t)}))]})]}),Object(Je.jsxs)(x.a,{style:{marginTop:0,height:"auto"},children:[Object(Je.jsx)(f.a,{children:Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Customer"}),Object(Je.jsxs)(v.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.customerChange(t.target.value)},children:[Object(Je.jsx)("option",{children:a.name}),s.map((function(e,t){return Object(Je.jsx)("option",{value:e.id,children:e.name},t)}))]})]})}),Object(Je.jsx)(f.a,{children:Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Truck"}),Object(Je.jsxs)(v.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.setState({truck_id:t.target.value})},children:[n?Object(Je.jsx)("option",{children:"Select"}):Object(Je.jsx)("option",{children:c.plate_no}),a.trucks.map((function(e){return Object(Je.jsx)("option",{value:e.id,children:e.plate_no})}))]})]})})]}),Object(Je.jsx)("h6",{className:"upload-form-details",children:"Details"}),Object(Je.jsxs)(x.a,{style:{marginTop:0,height:"auto"},children:[Object(Je.jsx)(f.a,{children:Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Order No"}),Object(Je.jsx)(v.a.Control,{type:"text",placeholder:"Order No",size:"sm",value:l,onChange:function(t){return e.setState({order_no:t.target.value})}})]})}),Object(Je.jsx)(f.a,{children:Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Entry no"}),Object(Je.jsx)(v.a.Control,{type:"text",placeholder:"Order No",size:"sm",value:u,onChange:function(t){return e.setState({entry_no:t.target.value})}})]})})]}),Object(Je.jsxs)(x.a,{style:{marginTop:0,height:"auto"},children:[Object(Je.jsx)(f.a,{children:Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Vol"}),Object(Je.jsx)(v.a.Control,{type:"text",placeholder:"Order No",size:"sm",value:d,onChange:function(t){return e.setState({vol_obs:t.target.value})}})]})}),Object(Je.jsx)(f.a,{children:Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Vol@20"}),Object(Je.jsx)(v.a.Control,{type:"text",placeholder:"Order No",size:"sm",value:p,onChange:function(t){return e.setState({vol_20:t.target.value})}})]})})]}),Object(Je.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{children:"Selling Price"}),Object(Je.jsx)(v.a.Control,{type:"text",placeholder:"Order No",size:"sm",value:h,onChange:function(t){return e.setState({selling_price:t.target.value})}})]}),Object(Je.jsx)("div",{align:"center",children:Object(Je.jsx)(y.a,{variant:"primary",type:"submit",children:"Upload"})})]})]})}}]),r}(a.a.Component),Jt={UPDATE_ENTRY_ACTION:function(e,t,r,n,a,s,c,o,i){return function(){var l=Object(j.a)(m.a.mark((function l(u){return m.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,ze(e,t,r,n,a,s,c,o,i).then((function(e){if(e.entry_no===n)u({type:G,payload:e});else try{var t=e.non_field_errors;u({type:W,payload:{"":t}})}catch(r){u({type:W,payload:e})}})).catch((function(e){console.log(e)}));case 2:case"end":return l.stop()}}),l)})));return function(e){return l.apply(this,arguments)}}()},ENTRY_LIST_ACTION:Ue},Vt=Object(o.b)((function(e){return{updated_entry:e.update_reducer.updated_entry,error:e.update_reducer.update_entry_error?e.update_reducer.update_entry_error:null,customers:e.list_reducer.customers?e.list_reducer.customers:[],products:e.list_reducer.products?e.list_reducer.products:[]}}),Jt)(Yt),Kt=(r(421),function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={orders:e.props.entries,order_no:null,active:1,spinner:!1,success:!0,delete_order:null},e.onSearchChange=function(t){""===t||void 0===t||null===t?e.setState({orders:e.props.entries}):e.setState({order_no:t})},e.onSearch=function(t){t.preventDefault();var r=e.state.order_no,n=e.props.entries;n=n.filter((function(e){return e.order_no.includes(r)})),e.setState({orders:n})},e.componentWillReceiveProps=function(){var t=Object(j.a)(m.a.mark((function t(r){var n,a,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({success:!0}),!r.deleted_entry){t.next=7;break}if(r.deleted_entry.order_no!==e.state.delete_order){t.next=7;break}return console.log("hereee"),t.next=6,e.props.ENTRY_LIST_ACTION();case 6:e.setState({spinner:!1,success:!0,delete_order:null});case 7:n=r.entries,a=new Date(r.order_dates.start_date),s=new Date(r.order_dates.end_date),n=n.filter((function(e){var t=new Date(e.date);return t>=a&&t<=s})),e.setState({orders:n,active:1});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDelete=function(){var t=Object(j.a)(m.a.mark((function t(r,n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({spinner:!0,delete_order:n.order_no}),t.next=3,e.props.DELETE_ENTRY_ACTION(r,n);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.componentDidMount=function(){var t=e.props.entries,r=new Date(e.props.order_dates.start_date),n=new Date(e.props.order_dates.end_date);t=t.filter((function(e){var t=new Date(e.date);return t>=r&&t<=n})),e.setState({orders:t,delete_order:null})},e}return Object(l.a)(r,[{key:"numberWithCommas",value:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"render",value:function(){for(var e=this,t=[],r=this.state.active,n=15*(r-1),a=15*r,s=function(n){t.push(Object(Je.jsx)(Gt.a.Item,{active:n===r,onClick:function(){return e.setState({active:n})},children:n},n))},c=1;c<=Math.ceil(this.state.orders.length/15);c++)s(c);return Object(Je.jsxs)("div",{className:"order-table",children:[Object(Je.jsxs)("div",{className:"table-header",children:[Object(Je.jsx)("h6",{}),Object(Je.jsxs)(v.a,{className:"d-flex",onSubmit:this.onSearch,children:[Object(Je.jsx)(Wt.a,{type:"search",placeholder:"Search by order no.",className:"me-2","aria-label":"Search by order no.",size:"sm",onChange:function(t){return e.onSearchChange(t.target.value)}}),Object(Je.jsx)(y.a,{variant:"outline-primary",type:"submit",children:"Search"})]})]}),Object(Je.jsxs)(Bt.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(Je.jsx)("thead",{children:Object(Je.jsxs)("tr",{children:[Object(Je.jsx)("th",{}),Object(Je.jsx)("th",{children:"Date"}),Object(Je.jsx)("th",{children:"Product"}),Object(Je.jsx)("th",{children:"Customer"}),Object(Je.jsx)("th",{children:"Order No"}),Object(Je.jsx)("th",{children:"Entry No"}),Object(Je.jsx)("th",{children:"S.Price"}),Object(Je.jsx)("th",{children:"OBS Vol"}),Object(Je.jsx)("th",{children:"Vol@20"}),Object(Je.jsx)("th",{children:"Amount"}),Object(Je.jsx)("th",{children:"Edit"}),Object(Je.jsx)("th",{children:"Del"})]})}),Object(Je.jsx)("tbody",{children:this.state.orders.slice(n,a).map((function(t,r){return Object(Je.jsxs)("tr",{children:[Object(Je.jsx)("td",{children:n+r+1}),Object(Je.jsx)("td",{children:t.date}),Object(Je.jsx)("td",{children:t.product.name}),Object(Je.jsx)("td",{children:t.truck.customer}),Object(Je.jsx)("td",{children:t.order_no}),Object(Je.jsx)("td",{children:t.entry_no}),Object(Je.jsx)("td",{children:t.selling_price}),Object(Je.jsx)("td",{children:e.numberWithCommas(t.vol_obs)}),Object(Je.jsx)("td",{children:e.numberWithCommas(t.vol_20)}),Object(Je.jsx)("td",{children:e.numberWithCommas(t.vol_obs*t.selling_price)}),Object(Je.jsx)("td",{children:Object(Je.jsx)(ut.a,{contentStyle:{width:500,minHeight:400},trigger:Object(Je.jsx)(y.a,{variant:"transparent",className:"action-button",children:Object(Je.jsx)($e.e,{color:"blue",size:20})}),position:"left top",children:Object(Je.jsx)(Vt,{order:t})})}),Object(Je.jsx)("td",{children:Object(Je.jsx)(ut.a,{contentStyle:{width:300,minHeight:150},onOpen:function(){return e.setState({success:!1})},trigger:Object(Je.jsx)(y.a,{variant:"transparent",className:"action-button",onClick:function(){return e.setState({success:!1})},children:Object(Je.jsx)($e.d,{color:"red",size:20})}),position:"left top",children:Object(Je.jsxs)("div",{className:"order-delete",children:[e.state.spinner?Object(Je.jsx)("div",{className:"spinner",children:Object(Je.jsx)(g.a,{color:"#00BFFF",height:100,width:100,timeout:4e3,visible:e.state.spinner})}):null,Object(Je.jsx)("h6",{children:"Are you sure you want to delete this record?"}),e.state.success?Object(Je.jsx)(_.a,{variant:"success",size:"sm",children:"Entry Deleted Successful"}):null,Object(Je.jsxs)("div",{className:"delete-buttons",children:[Object(Je.jsx)(y.a,{variant:"secondary",className:"cancel-button",onClick:function(){return e.setState({success:!1})},children:"Cancel"}),Object(Je.jsxs)(y.a,{variant:"danger",onClick:function(){return e.handleDelete(t.id,t)},children:[Object(Je.jsx)($e.d,{color:"red",size:20})," Delete"]})]})]})})})]},r)}))})]}),Object(Je.jsx)("div",{children:Object(Je.jsx)(Gt.a,{size:"sm",children:t})})]})}}]),r}(a.a.Component)),Xt={DELETE_ENTRY_ACTION:function(e,t){return function(){var r=Object(j.a)(m.a.mark((function r(n){return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Fe(e,t).then((function(e){n({type:B,payload:e})})).catch((function(e){console.log(e)}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},ENTRY_LIST_ACTION:Ue},$t=Object(o.b)((function(e){var t={start_date:new Date(2022,1,20),end_date:new Date(2022,1,28)};return{entries:e.list_reducer.entries?e.list_reducer.entries:[],deleted_entry:e.update_reducer.deleted_entry,order_dates:e.list_reducer.order_dates?e.list_reducer.order_dates:t}}),Xt)(Kt),Ht=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={spinner:!1,redirect:!1},e.componentWillReceiveProps=function(t){e.setState({spinner:!1})},e.componentWillMount=Object(j.a)(m.a.mark((function t(){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(r=e.props.token)&&""!==r){t.next=5;break}e.setState({redirect:!0}),t.next=8;break;case 5:return e.setState({spinner:!0}),t.next=8,e.props.ENTRY_LIST_ACTION();case 8:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(r,[{key:"render",value:function(){return this.state.redirect?Object(Je.jsx)(h.a,{to:"/login"}):Object(Je.jsx)(et,{headerTitle:"Orders",children:this.state.spinner?Object(Je.jsx)("div",{className:"spinner",children:Object(Je.jsx)(g.a,{color:"#00BFFF",height:100,width:100,timeout:4e3,visible:this.state.spinner})}):Object(Je.jsxs)("div",{children:[Object(Je.jsx)(Ut,{}),Object(Je.jsx)($t,{data:this.props.entries})]})})}}]),r}(a.a.Component),qt={ENTRY_LIST_ACTION:Ue},Qt=Object(o.b)((function(e){return{token:e.auth_reducer.token,entries:e.list_reducer.entries?e.list_reducer.entries:[]}}),qt)(Ht),Zt=(r(232),function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).componentWillReceiveProps=function(e){console.log("in chart will receive"),n.setState({series:[{data:e.data.data.values,name:e.data.data.name}]})},n.state={series:[{name:n.props.data.data.name,data:n.props.data.data.values}],options:{chart:{type:"bar",height:350},title:{text:"Monthly Sale Comparison"},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:n.props.data.months},yaxis:{title:{text:"$ (Millions)"}},fill:{opacity:1},tooltip:{y:{formatter:function(e){return"$ "+e+" thousands"}}}}},n}return Object(l.a)(r,[{key:"render",value:function(){return Object(Je.jsx)("div",{id:"chart",children:Object(Je.jsx)(rt.a,{options:this.state.options,series:this.state.series,type:"bar",height:350})})}}]),r}(a.a.Component)),er=r(67),tr=r.n(er),rr=new Date("28 Feb 2022"),nr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ar=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).componentWillReceiveProps=function(e){console.log("in chart will receive"),n.setState({series:[{data:e.data.values,name:e.name}]})},n.addMonths=function(e,t){return e.setMonth(e.getMonth()+t),e},n.componentDidMount=function(){n.setState({data:n.props.data.values,name:n.props.name,timeline:"one_month"})},n.state={series:[{name:n.props.name,data:n.props.data.values}],options:{chart:{id:"area-datetime",type:"area",height:350,zoom:{autoScaleYaxis:!0}},title:{text:"Sales Trend"},annotations:{xaxis:[{x:new Date("1 ".concat(nr[rr.getMonth()]," ").concat(rr.getFullYear())).getTime(),borderColor:"#999",yAxisIndex:0,label:{show:!0,text:"Sales",style:{color:"#fff",background:"#775DD0"}}}]},dataLabels:{enabled:!0},markers:{size:0,style:"hollow"},xaxis:{type:"datetime",min:new Date("1 ".concat(nr[rr.getMonth()]," ").concat(rr.getFullYear())).getTime(),tickAmount:10},yaxis:{title:{text:"$ (Millions)"}},tooltip:{x:{format:"dd MMM yyyy"}},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.9,stops:[0,100]}}},selection:"one_month"},n}return Object(l.a)(r,[{key:"updateData",value:function(e){this.setState({selection:e});var t=new Date("1 ".concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][rr.getMonth()]," ").concat(rr.getFullYear())),r=new Date("28 Feb 2022");r=this.addMonths(r,-6);var n=new Date("28 Feb 2022");switch(n=this.addMonths(n,-12),e){case"one_month":tr.a.exec("area-datetime","zoomX",t.getTime(),rr.getTime());break;case"six_months":tr.a.exec("area-datetime","zoomX",r.getTime(),rr.getTime());break;case"one_year":tr.a.exec("area-datetime","zoomX",n.getTime(),rr.getTime());break;case"ytd":tr.a.exec("area-datetime","zoomX",new Date("01 Jan ".concat(rr.getFullYear())).getTime(),rr.getTime())}}},{key:"render",value:function(){var e=this;return Object(Je.jsxs)("div",{id:"chart",children:[Object(Je.jsxs)("div",{className:"toolbar",children:[Object(Je.jsx)("button",{id:"one_month",onClick:function(){return e.updateData("one_month")},className:"one_month"===this.state.selection?"date_select active":"date_select",children:"One Month"}),"\xa0",Object(Je.jsx)("button",{id:"six_months",onClick:function(){return e.updateData("six_months")},className:"six_months"===this.state.selection?"date_select active":"date_select",children:"Six Months"}),"\xa0",Object(Je.jsx)("button",{id:"one_year",onClick:function(){return e.updateData("one_year")},className:"one_year"===this.state.selection?"date_select active":"date_select",children:"One Year"}),"\xa0",Object(Je.jsx)("button",{id:"ytd",onClick:function(){return e.updateData("ytd")},className:"ytd"===this.state.selection?"date_select active":"date_select",children:"This year"}),"\xa0"]}),Object(Je.jsx)("div",{id:"chart-timeline",children:Object(Je.jsx)(rt.a,{options:this.state.options,series:this.state.series,type:"area",height:350})})]})}}]),r}(a.a.Component),sr=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).componentWillReceiveProps=function(e){console.log("in chart will receive"),n.setState({series:[{data:e.data.data.orders,name:e.data.data.name}]})},n.state={series:[{name:n.props.data.data.name,data:n.props.data.data.orders}],options:{chart:{height:300,type:"radar"},dataLabels:{enabled:!0},plotOptions:{radar:{size:140,polygons:{strokeColors:"#e9e9e9",fill:{colors:["aliceblue","#fff"]}}}},title:{text:"Monthly Orders"},colors:["#008ffb"],markers:{size:4,colors:["#fff"],strokeColor:"#FF4560",strokeWidth:2},tooltip:{y:{formatter:function(e){return e}}},xaxis:{categories:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]},yaxis:{tickAmount:7,labels:{formatter:function(e,t){return t%2===0?e:""}}}}},n}return Object(l.a)(r,[{key:"render",value:function(){return console.log(this.props.data),Object(Je.jsx)("div",{id:"chart",children:Object(Je.jsx)(rt.a,{options:this.state.options,series:this.state.series,type:"radar",height:350})})}}]),r}(a.a.Component),cr=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={data:e.props.data},e.componentWillReceiveProps=function(t){e.setState({data:t.data})},e}return Object(l.a)(r,[{key:"render",value:function(){return console.log(this.state.data),Object(Je.jsxs)("div",{children:[Object(Je.jsx)(x.a,{children:Object(Je.jsx)(f.a,{children:Object(Je.jsx)("div",{className:"chart-area large-chart",children:Object(Je.jsx)(ar,{name:this.state.data.name,data:this.state.data.main})})})}),Object(Je.jsxs)(x.a,{children:[Object(Je.jsx)(f.a,{xs:7,children:Object(Je.jsx)("div",{className:"chart-area large-chart",children:Object(Je.jsx)(Zt,{data:this.state.data.months})})}),Object(Je.jsx)(f.a,{children:Object(Je.jsx)("div",{className:"chart-area small-chart",children:Object(Je.jsx)(sr,{data:this.state.data.months})})})]})]})}}]),r}(a.a.Component),or=cr,ir=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={orders:[],order_no:null,active:1},e.onSearchChange=function(t){""===t||void 0===t||null===t?e.setState({orders:e.props.entries}):e.setState({order_no:t})},e.onSearch=function(t){t.preventDefault();var r=e.state.order_no,n=e.props.entries;n=n.filter((function(e){return e.order_no===r})),e.setState({orders:n})},e.componentWillReceiveProps=function(t){var r=t.name,n=t.entries;n=n.filter((function(e){return e.product.name===r})),e.setState({orders:n})},e.componentDidMount=function(){var t=e.props.name,r=e.props.entries;r=r.filter((function(e){return e.product.name===t})),e.setState({orders:r})},e}return Object(l.a)(r,[{key:"numberWithCommas",value:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"render",value:function(){for(var e=this,t=[],r=this.state.active,n=10*(r-1),a=10*r,s=function(n){t.push(Object(Je.jsx)(Gt.a.Item,{active:n===r,onClick:function(){return e.setState({active:n})},children:n},n))},c=1;c<=Math.ceil(this.state.orders.length/10);c++)s(c);return Object(Je.jsxs)("div",{className:"order-table",children:[Object(Je.jsxs)("div",{className:"table-header",children:[Object(Je.jsx)("h6",{children:"Records"}),Object(Je.jsxs)(v.a,{className:"d-flex",onSubmit:this.onSearch,children:[Object(Je.jsx)(Wt.a,{type:"search",placeholder:"Search by order no.",className:"me-2","aria-label":"Search by order no.",size:"sm",onChange:function(t){return e.onSearchChange(t.target.value)}}),Object(Je.jsx)(y.a,{variant:"outline-primary",type:"submit",children:"Search"})]})]}),Object(Je.jsxs)(Bt.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(Je.jsx)("thead",{children:Object(Je.jsxs)("tr",{children:[Object(Je.jsx)("th",{}),Object(Je.jsx)("th",{children:"Date"}),Object(Je.jsx)("th",{children:"Product"}),Object(Je.jsx)("th",{children:"Customer"}),Object(Je.jsx)("th",{children:"Order No"}),Object(Je.jsx)("th",{children:"Entry No"}),Object(Je.jsx)("th",{children:"S.Price"}),Object(Je.jsx)("th",{children:"OBS Vol"}),Object(Je.jsx)("th",{children:"Vol@20"}),Object(Je.jsx)("th",{children:"Amount (Kshs)"})]})}),Object(Je.jsx)("tbody",{children:this.state.orders.slice(n,a).map((function(t,r){return Object(Je.jsxs)("tr",{children:[Object(Je.jsx)("td",{children:r+1}),Object(Je.jsx)("td",{children:t.date}),Object(Je.jsx)("td",{children:t.product.name}),Object(Je.jsx)("td",{children:t.truck.customer}),Object(Je.jsx)("td",{children:t.order_no}),Object(Je.jsx)("td",{children:t.entry_no}),Object(Je.jsx)("td",{children:t.selling_price}),Object(Je.jsx)("td",{children:e.numberWithCommas(t.vol_obs)}),Object(Je.jsx)("td",{children:e.numberWithCommas(t.vol_20)}),Object(Je.jsx)("td",{children:e.numberWithCommas(t.vol_obs*t.selling_price)})]},r)}))})]}),Object(Je.jsx)(Gt.a,{size:"sm",children:t})]})}}]),r}(a.a.Component),lr=Object(o.b)((function(e){return{entries:e.list_reducer.entries?e.list_reducer.entries:[],product_bi_list:e.list_reducer.product_bi_list?e.list_reducer.product_bi_list:{},product_index:e.list_reducer.product_index}}),{})(ir),ur=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={startDate:new Date,endDate:new Date,key:"selection",date:!0,cost:!1,index:null},e.handleSubmit=function(){var t=Object(j.a)(m.a.mark((function t(r){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),n=e.state.index,t.next=4,e.props.PRODUCT_INDEX_ACTION(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return Object(Je.jsx)("div",{children:Object(Je.jsxs)("div",{className:"product-top",children:[Object(Je.jsx)("div",{children:Object(Je.jsx)("h6",{children:this.props.products[this.props.product_index].name})}),Object(Je.jsxs)(v.a,{className:"product-form",onSubmit:this.handleSubmit,children:[Object(Je.jsxs)(v.a.Group,{className:"mb-2 product-input",controlId:"exampleForm.ControlInput1",children:[Object(Je.jsx)(v.a.Label,{style:{marginRight:10},children:"Product"}),Object(Je.jsxs)(v.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.setState({index:t.target.value})},children:[Object(Je.jsx)("option",{children:"Select"}),this.props.products.map((function(e,t){return Object(Je.jsx)("option",{value:t,children:e.name})}))]})]}),Object(Je.jsx)("button",{type:"submit",className:"product-refresh",children:Object(Je.jsx)($e.k,{size:30,color:"#008ffb"})})]})]})})}}]),r}(a.a.Component),dr={PRODUCT_INDEX_ACTION:Ge},pr=Object(o.b)((function(e){return{products:e.list_reducer.products?e.list_reducer.products:[],product_index:e.list_reducer.product_index,entries:e.list_reducer.entries?e.list_reducer.entries:[]}}),dr)(ur),hr=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={redirect:!1,spinner:!1,didnt_load:!1,data:null},e.componentWillReceiveProps=function(t){t.product_bi_list[t.product_index].main?e.setState({spinner:!1,didnt_load:!1,data:t.product_bi_list[t.product_index]}):e.setState({spinner:!1,didnt_load:!0})},e.componentDidMount=Object(j.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({data:e.props.product_bi_list[e.props.product_index]});case 1:case"end":return t.stop()}}),t)}))),e.componentWillMount=Object(j.a)(m.a.mark((function t(){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(r=e.props.token)&&""!==r){t.next=5;break}e.setState({redirect:!0}),t.next=8;break;case 5:return e.setState({spinner:!0}),t.next=8,e.props.PRODUCT_BI_LIST_ACTION();case 8:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(r,[{key:"render",value:function(){if(this.state.redirect)return Object(Je.jsx)(h.a,{to:"/login"});var e=this.state.data;return Object(Je.jsx)(et,{headerTitle:"Products",children:this.state.didnt_load?Object(Je.jsx)("div",{children:Object(Je.jsx)(_.a,{variant:"danger",size:"sm",children:"Something went wrong. Please contact the Admin."})}):Object(Je.jsx)("div",{children:this.state.spinner?Object(Je.jsx)("div",{className:"spinner",children:Object(Je.jsx)(g.a,{color:"#00BFFF",height:100,width:100,timeout:4e3,visible:this.state.spinner})}):Object(Je.jsxs)("div",{children:[Object(Je.jsx)(pr,{}),Object(Je.jsx)(or,{data:e}),Object(Je.jsx)(lr,{name:e.name})]})})})}}]),r}(a.a.Component),jr={PRODUCT_BI_LIST_ACTION:Be},br=Object(o.b)((function(e){return{token:e.auth_reducer.token,product_bi_list:e.list_reducer.product_bi_list?e.list_reducer.product_bi_list:{},product_index:e.list_reducer.product_index}}),jr)(hr),mr=(r(420),function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).componentWillReceiveProps=function(e){n.setState({series:[{name:e.customer_data.data.name,data:e.customer_data.data.values}]})},n.componentDidMount=function(){n.setState({series:[{name:n.props.customer_data.data.name,data:n.props.customer_data.data.values}]})},n.state={series:[],options:{chart:{type:"bar",height:350},title:{text:"Monthly Sale Comparison"},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{title:{text:"Months"},categories:n.props.data.months},yaxis:{title:{text:"$ (Millions)"}},fill:{opacity:1},tooltip:{y:{formatter:function(e){return"$ "+e+" Million"}}}}},n}return Object(l.a)(r,[{key:"render",value:function(){return Object(Je.jsx)("div",{id:"chart",children:Object(Je.jsx)(rt.a,{options:this.state.options,series:this.state.series,type:"bar",height:350})})}}]),r}(a.a.Component)),Or=Object(o.b)((function(e){return{customer_data:e.list_reducer.customer_data?e.list_reducer.customer_data.monthly_orders:{}}}),{})(mr),xr=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).componentWillReceiveProps=function(e){n.setState({series:[{name:e.customer_data.data.name,data:e.customer_data.data.orders}]})},n.componentDidMount=function(){n.setState({series:[{name:n.props.customer_data.data.name,data:n.props.customer_data.data.orders}]})},n.state={series:[],options:{chart:{height:200,type:"radar"},dataLabels:{enabled:!0},plotOptions:{radar:{size:140,polygons:{strokeColors:"#e9e9e9",fill:{colors:["aliceblue","#fff"]}}}},title:{text:"Monthly Orders"},colors:["#008ffb"],markers:{size:4,colors:["#fff"],strokeColor:"#FF4560",strokeWidth:2},tooltip:{y:{formatter:function(e){return e}}},xaxis:{categories:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]},yaxis:{tickAmount:1,labels:{formatter:function(e,t){return t%2===0?e:""}}}}},n}return Object(l.a)(r,[{key:"render",value:function(){return Object(Je.jsx)("div",{id:"chart",children:Object(Je.jsx)(rt.a,{options:this.state.options,series:this.state.series,type:"radar",height:350})})}}]),r}(a.a.Component),fr=Object(o.b)((function(e){return{customer_data:e.list_reducer.customer_data?e.list_reducer.customer_data.monthly_orders:{}}}),{})(xr),_r=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={info:[]},e.componentWillReceiveProps=function(t){e.setState({info:t.customer_data})},e.componentDidMount=function(){e.setState({info:e.props.customer_data})},e}return Object(l.a)(r,[{key:"numberWithCommas",value:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"render",value:function(){return Object(Je.jsxs)("div",{className:"customer-content-header",children:[Object(Je.jsx)("h5",{className:"customer-content-name",children:this.state.info.name}),Object(Je.jsx)("div",{className:"customer-info",children:Object(Je.jsxs)(Bt.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(Je.jsx)("thead",{children:Object(Je.jsxs)("tr",{children:[Object(Je.jsx)("th",{children:"Location"}),Object(Je.jsx)("th",{children:"Products"}),Object(Je.jsx)("th",{children:"Total Orders"}),Object(Je.jsx)("th",{children:"Total trucks"}),Object(Je.jsx)("th",{children:"Total Amount (Kshs)"})]})}),Object(Je.jsx)("tbody",{children:Object(Je.jsxs)("tr",{children:[Object(Je.jsx)("td",{children:this.state.info.location}),Object(Je.jsx)("td",{children:"2"}),Object(Je.jsx)("td",{children:this.state.info.order_total}),Object(Je.jsx)("td",{children:this.state.info.truck_total}),Object(Je.jsx)("td",{children:this.state.info.total})]})})]})})]})}}]),r}(a.a.Component),vr=Object(o.b)((function(e){return{customer_data:e.list_reducer.customer_data?e.list_reducer.customer_data:{}}}),{})(_r),yr=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={orders:[],active:1},e.componentWillReceiveProps=function(t){e.setState({orders:t.customer_data})},e.componentDidMount=function(){e.setState({orders:e.props.customer_data})},e}return Object(l.a)(r,[{key:"numberWithCommas",value:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"render",value:function(){for(var e=this,t=[],r=this.state.active,n=10*(r-1),a=10*r,s=function(n){t.push(Object(Je.jsx)(Gt.a.Item,{active:n===r,onClick:function(){return e.setState({active:n})},children:n},n))},c=1;c<=Math.ceil(this.state.orders.length/10);c++)s(c);return Object(Je.jsxs)("div",{className:"customer-orders",children:[Object(Je.jsx)("div",{className:"customer-orders-header",children:Object(Je.jsx)("h6",{children:"Orders"})}),Object(Je.jsxs)("div",{className:"customer-orders-table",children:[Object(Je.jsxs)(Bt.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(Je.jsx)("thead",{children:Object(Je.jsxs)("tr",{children:[Object(Je.jsx)("th",{}),Object(Je.jsx)("th",{children:"Date"}),Object(Je.jsx)("th",{children:"Product"}),Object(Je.jsx)("th",{children:"Order No"}),Object(Je.jsx)("th",{children:"Entry No"}),Object(Je.jsx)("th",{children:"S.Price"}),Object(Je.jsx)("th",{children:"OBS Vol"}),Object(Je.jsx)("th",{children:"Vol@20"}),Object(Je.jsx)("th",{children:"Amount"})]})}),Object(Je.jsx)("tbody",{children:this.state.orders.slice(n,a).map((function(t,r){return Object(Je.jsxs)("tr",{children:[Object(Je.jsx)("td",{children:r+1}),Object(Je.jsx)("td",{children:t.date}),Object(Je.jsx)("td",{children:t.product.name}),Object(Je.jsx)("td",{children:t.order_no}),Object(Je.jsx)("td",{children:t.entry_no}),Object(Je.jsx)("td",{children:t.selling_price}),Object(Je.jsx)("td",{children:e.numberWithCommas(t.vol_obs)}),Object(Je.jsx)("td",{children:e.numberWithCommas(t.vol_20)}),Object(Je.jsx)("td",{children:e.numberWithCommas(t.vol_obs*t.selling_price)})]},r)}))})]}),Object(Je.jsx)(Gt.a,{size:"sm",children:t})]})]})}}]),r}(a.a.Component),gr=Object(o.b)((function(e){return{customer_data:e.list_reducer.customer_data?e.list_reducer.customer_data.orders:{}}}),{})(yr),Sr=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={orders:[],order_no:null,redirect:!1,spinner:!1,didnt_load:!1,customer_id:0,customer_data:e.props.customer_bi_list[0],customer:null,customer_bi_list:e.props.customer_bi_list},e.onSearchChange=function(t){""===t||void 0===t||null===t?e.setState({customer_bi_list:e.props.customer_bi_list}):e.setState({customer:t})},e.onSearch=function(t){t.preventDefault();var r=e.state.customer,n=e.props.customer_bi_list;n=n.filter((function(e){return e.name.toLowerCase().includes(r.toLowerCase())})),e.setState({customer_bi_list:n})},e.onClick=function(){var t=Object(j.a)(m.a.mark((function t(r){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.customer_bi_list.findIndex((function(e){return e.name===r})),t.next=3,e.setState({customer_id:n});case 3:return t.next=5,e.props.CUSTOMER_DATA_ACTION(e.props.customer_bi_list[n]);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentWillReceiveProps=function(t){e.props.customer_bi_list.length>0?e.setState({spinner:!1,didnt_load:!1}):e.setState({spinner:!1,didnt_load:!0})},e.componentDidMount=Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),e.componentWillMount=Object(j.a)(m.a.mark((function t(){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(r=e.props.token)&&""!==r){t.next=5;break}e.setState({redirect:!0}),t.next=10;break;case 5:return e.setState({spinner:!0}),t.next=8,e.props.CUSTOMER_DATA_ACTION(e.props.customer_bi_list[0]);case 8:return t.next=10,e.props.CUSTOMER_BI_LIST_ACTION();case 10:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return this.state.redirect?Object(Je.jsx)(h.a,{to:"/login"}):Object(Je.jsx)(et,{headerTitle:"Customers",children:this.state.didnt_load?Object(Je.jsx)("div",{children:Object(Je.jsx)(_.a,{variant:"danger",size:"sm",children:"Something went wrong. Please contact the Admin."})}):Object(Je.jsx)("div",{children:this.state.spinner?Object(Je.jsx)("div",{className:"spinner",children:Object(Je.jsx)(g.a,{color:"#00BFFF",height:100,width:100,timeout:4e3,visible:this.state.spinner})}):Object(Je.jsxs)(x.a,{children:[Object(Je.jsx)(f.a,{children:Object(Je.jsxs)("div",{className:"customer-side",children:[Object(Je.jsx)("h6",{children:"Pick a customer"}),Object(Je.jsxs)(v.a,{className:"d-flex",onSubmit:this.onSearch,children:[Object(Je.jsx)(Wt.a,{type:"search",placeholder:"Search",className:"me-2","aria-label":"Search",size:"sm",onChange:function(t){return e.onSearchChange(t.target.value)}}),Object(Je.jsx)(y.a,{type:"submit",variant:"outline-primary",size:"sm",children:"Search"})]}),Object(Je.jsx)("div",{children:this.state.customer_bi_list.map((function(t,r){return Object(Je.jsx)("div",{className:"customer-scroll",children:e.state.customer_id===r?Object(Je.jsx)(y.a,{className:"customer active",variant:"transparent",onClick:function(){return e.onClick(t.name)},children:Object(Je.jsxs)("div",{className:"customer-info",children:[Object(Je.jsx)("div",{className:"customer-profile"}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("h6",{className:"customer-name",children:t.name}),Object(Je.jsx)("p",{className:"customer-location",children:t.location})]})]})}):Object(Je.jsx)(y.a,{className:"customer",variant:"transparent",onClick:function(){return e.onClick(t.name)},children:Object(Je.jsxs)("div",{className:"customer-info",children:[Object(Je.jsx)("div",{className:"customer-profile"}),Object(Je.jsxs)("div",{children:[Object(Je.jsx)("h6",{className:"customer-name",children:t.name}),Object(Je.jsx)("p",{className:"customer-location",children:t.location})]})]})})},r)}))})]})}),Object(Je.jsx)(f.a,{xs:9,children:Object(Je.jsxs)("div",{className:"customer-content",children:[Object(Je.jsx)(vr,{}),Object(Je.jsx)("div",{children:Object(Je.jsxs)(x.a,{children:[Object(Je.jsx)(f.a,{xs:12,children:Object(Je.jsx)("div",{className:"chart-area",children:Object(Je.jsx)(Or,{data:this.state.customer_data.monthly_orders})})}),Object(Je.jsx)(f.a,{children:Object(Je.jsx)("div",{className:"chart-area",children:Object(Je.jsx)(fr,{data:this.state.customer_data.monthly_orders})})})]})}),Object(Je.jsx)(gr,{})]})})]})})})}}]),r}(a.a.Component),Cr={CUSTOMER_BI_LIST_ACTION:Ye,CUSTOMER_DATA_ACTION:function(e){return function(t){t({type:q,payload:e})}}},Nr=Object(o.b)((function(e){return{token:e.auth_reducer.token,customer_bi_list:e.list_reducer.customer_bi_list?e.list_reducer.customer_bi_list:[],customer_data:e.list_reducer.customer_data?e.list_reducer.customer_data:{}}}),Cr)(Sr),kr=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return Object(Je.jsx)(p.a,{children:Object(Je.jsxs)(h.d,{children:[Object(Je.jsx)(h.b,{path:"/login",exact:!0,component:Xe}),Object(Je.jsx)(h.b,{path:"/",exact:!0,component:Et}),Object(Je.jsx)(h.b,{path:"/orders",exact:!0,component:Qt}),Object(Je.jsx)(h.b,{path:"/products",exact:!0,component:br}),Object(Je.jsx)(h.b,{path:"/customers",exact:!0,component:Nr}),Object(Je.jsx)(h.b,{path:"/download_excel",exact:!0,component:Ft})]})})}}]),r}(a.a.Component),Tr=kr;var wr=function(){return Object(Je.jsx)(o.a,{store:je,children:Object(Je.jsx)(Tr,{})})},Ir=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,433)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))};c.a.render(Object(Je.jsx)(a.a.StrictMode,{children:Object(Je.jsx)(wr,{})}),document.getElementById("root")),Ir()},55:function(e,t,r){}},[[422,1,2]]]);
//# sourceMappingURL=main.8ef3ff17.chunk.js.ad4b70bbfaf2.map